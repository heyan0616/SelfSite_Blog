{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{435:function(s,t,a){s.exports=a.p+\"assets/img/vwgc-1.91c0a359.jpg\"},436:function(s,t,a){s.exports=a.p+\"assets/img/vwgc-2.8e4f8917.jpg\"},437:function(s,t,a){s.exports=a.p+\"assets/img/vwgc-3.7de8515a.jpg\"},438:function(s,t,a){s.exports=a.p+\"assets/img/vwgc-4-1.636055d5.jpg\"},439:function(s,t,a){s.exports=a.p+\"assets/img/vwgc-4-2.eeaa25a1.jpg\"},440:function(s,t,a){s.exports=a.p+\"assets/img/vwgc-5.48b97fa6.jpg\"},441:function(s,t,a){s.exports=a.p+\"assets/img/vwgc-6.c702a32d.jpg\"},442:function(s,t,a){s.exports=a.p+\"assets/img/vwgc-7.36143e62.jpg\"},443:function(s,t,a){s.exports=a.p+\"assets/img/vwgc-8.5b25dd36.jpg\"},444:function(s,t,a){s.exports=a.p+\"assets/img/vwgc-9.9ba55a1f.jpg\"},445:function(s,t,a){s.exports=a.p+\"assets/img/vwgc-10.e7582349.jpg\"},446:function(s,t,a){s.exports=a.p+\"assets/img/vwgc-11.d1a31f97.jpg\"},556:function(s,t,a){\"use strict\";a.r(t);var e=a(0),n=Object(e.a)({},(function(){var s=this,t=s.$createElement,e=s._self._c||t;return e(\"ContentSlotsDistributor\",{attrs:{\"slot-key\":s.$parent.slotKey}},[e(\"h1\",{attrs:{id:\"基于google-cloud搭建v2ray服务器\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#基于google-cloud搭建v2ray服务器\"}},[s._v(\"#\")]),s._v(\" 基于Google Cloud搭建V2Ray服务器\")]),s._v(\" \"),e(\"p\",[s._v(\"薅google云的一年试用期的羊毛，顺便搭建V2Ray服务器，解决上网问题\")]),s._v(\" \"),e(\"h2\",{attrs:{id:\"申请google-cloud的vps\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#申请google-cloud的vps\"}},[s._v(\"#\")]),s._v(\" 申请Google Cloud的VPS\")]),s._v(\" \"),e(\"h3\",{attrs:{id:\"前提条件\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#前提条件\"}},[s._v(\"#\")]),s._v(\" 前提条件\")]),s._v(\" \"),e(\"ul\",[e(\"li\",[s._v(\"你先能上google云，请自行解决... 不在本文讨论范围\")]),s._v(\" \"),e(\"li\",[s._v(\"拥有或创建google账号\")]),s._v(\" \"),e(\"li\",[s._v(\"有一张VISA信用卡（4开头的，开通google cloud需要用到）\")])]),s._v(\" \"),e(\"h3\",{attrs:{id:\"注册-google-cloud\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#注册-google-cloud\"}},[s._v(\"#\")]),s._v(\" 注册 Google Cloud\")]),s._v(\" \"),e(\"p\",[s._v(\"登录https://cloud.google.com/，点击“\"),e(\"strong\",[s._v(\"免费开始使用\")]),s._v(\"”，使用自己的google账号登录，地区选择“\"),e(\"strong\",[s._v(\"香港\")]),s._v(\"”，详细地址随便写个就行，输入你的信用卡，google会先扣除一定额度的money（很快就会退回来）。\")]),s._v(\" \"),e(\"p\",[s._v(\"当前google提供为期一年的试用期，并提供300$的使用资金（但当我查看账号时显示如下金额，没搞懂~ 不过一年试用期是固定的。估计我也用不完。。）\")]),s._v(\" \"),e(\"div\",{staticStyle:{display:\"flex\"}},[e(\"img\",{staticStyle:{zoom:\"40%\",display:\"block\"},attrs:{src:a(435),alt:\"Home.vue\",align:\"left\"}})]),s._v(\" \"),e(\"br\"),s._v(\" \"),e(\"h3\",{attrs:{id:\"创建vps-instance\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#创建vps-instance\"}},[s._v(\"#\")]),s._v(\" 创建VPS instance\")]),s._v(\" \"),e(\"h4\",{attrs:{id:\"compute-engine-vm-instance\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#compute-engine-vm-instance\"}},[s._v(\"#\")]),s._v(' \"Compute Engine\"->\"VM instance\"')]),s._v(\" \"),e(\"br\"),s._v(\" \"),e(\"div\",{staticStyle:{display:\"flex\"}},[e(\"img\",{staticStyle:{zoom:\"40%\",display:\"block\"},attrs:{src:a(436),alt:\"Home.vue\",align:\"left\"}})]),s._v(\" \"),e(\"br\"),s._v(\" \"),e(\"h4\",{attrs:{id:\"然后在instance界面“create-instance”\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#然后在instance界面“create-instance”\"}},[s._v(\"#\")]),s._v(\" 然后在instance界面“CREATE INSTANCE”\")]),s._v(\" \"),e(\"br\"),s._v(\" \"),e(\"div\",{staticStyle:{display:\"flex\"}},[e(\"img\",{staticStyle:{zoom:\"40%\",display:\"block\"},attrs:{src:a(437),alt:\"Home.vue\",align:\"left\"}})]),s._v(\" \"),e(\"br\"),s._v(\" \"),e(\"h4\",{attrs:{id:\"创建instance\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#创建instance\"}},[s._v(\"#\")]),s._v(\" 创建instance\")]),s._v(\" \"),e(\"ol\",[e(\"li\",[s._v(\"显示你所选择的instance的价格\")]),s._v(\" \"),e(\"li\",[s._v(\"instance的名字\")]),s._v(\" \"),e(\"li\",[s._v(\"instance的地区（这里选香港，后面Zone可以切换，有时候你所选的zone没有资源了，google会提示你无法创建实例，此时可切换zone再尝试）\")]),s._v(\" \"),e(\"li\",[s._v(\"instance的规格\")]),s._v(\" \"),e(\"li\",[s._v(\"instance的系统选择，这里最好点击“Change”，选择\"),e(\"strong\",[s._v(\"CentOS\")]),s._v(\"或者RedHat之类我们熟悉的。\")]),s._v(\" \"),e(\"li\",[s._v(\"“Firewall”这里需要都选上\")])]),s._v(\" \"),e(\"p\",[s._v('选择完毕后，点击\"'),e(\"strong\",[s._v(\"Create\")]),s._v('\"')]),s._v(\" \"),e(\"div\",{staticStyle:{display:\"flex\"}},[e(\"img\",{staticStyle:{zoom:\"40%\",display:\"block\"},attrs:{src:a(438),alt:\"Home.vue\",align:\"left\"}})]),s._v(\" \"),e(\"div\",{staticStyle:{display:\"flex\"}},[e(\"img\",{staticStyle:{zoom:\"40%\",display:\"block\"},attrs:{src:a(439),alt:\"Home.vue\",align:\"left\"}})]),s._v(\" \"),e(\"br\"),s._v(\" \"),e(\"h4\",{attrs:{id:\"配置防火墙规则-“setup-firewall-rules”\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#配置防火墙规则-“setup-firewall-rules”\"}},[s._v(\"#\")]),s._v(\" 配置防火墙规则 - “Setup Firewall Rules”\")]),s._v(\" \"),e(\"br\"),s._v(\" \"),e(\"div\",{staticStyle:{display:\"flex\"}},[e(\"img\",{staticStyle:{zoom:\"40%\",display:\"block\"},attrs:{src:a(440),alt:\"Home.vue\",align:\"left\"}})]),s._v(\" \"),e(\"p\",[s._v(\"点击“\"),e(\"strong\",[s._v(\"CREATE FIREWALL RULE\")]),s._v(\"” (rule名字自定义，主要关注以下三点)\")]),s._v(\" \"),e(\"ul\",[e(\"li\",[s._v(\"选择应用到所有instances\")]),s._v(\" \"),e(\"li\",[s._v(\"source ip设置成所有（也就是0.0.0.0）\")]),s._v(\" \"),e(\"li\",[s._v(\"协议和端口设置为允许所有\")])]),s._v(\" \"),e(\"div\",{staticStyle:{display:\"flex\"}},[e(\"img\",{staticStyle:{zoom:\"40%\",display:\"block\"},attrs:{src:a(441),alt:\"Home.vue\",align:\"left\"}})]),s._v(\" \"),e(\"br\"),s._v(\" \"),e(\"h4\",{attrs:{id:\"设置静态ip\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#设置静态ip\"}},[s._v(\"#\")]),s._v(\" 设置静态IP\")]),s._v(\" \"),e(\"p\",[s._v(\"切换到“\"),e(\"strong\",[s._v(\"External IP addresses\")]),s._v(\"，点击“\"),e(\"strong\",[s._v(\"Type\")]),s._v(\"”选择“\"),e(\"strong\",[s._v(\"Static\")]),s._v(\"”，这样我们就可以有静态的ip地址了\")]),s._v(\" \"),e(\"div\",{staticStyle:{display:\"flex\"}},[e(\"img\",{staticStyle:{zoom:\"40%\",display:\"block\"},attrs:{src:a(442),alt:\"Home.vue\",align:\"left\"}})]),s._v(\" \"),e(\"br\"),s._v(\" \"),e(\"h3\",{attrs:{id:\"ssh登录设置\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#ssh登录设置\"}},[s._v(\"#\")]),s._v(\" SSH登录设置\")]),s._v(\" \"),e(\"p\",[s._v(\"至此，我们的instance就申请成功了。下面我们配置V2Ray服务。\")]),s._v(\" \"),e(\"p\",[s._v(\"在这之前，我们发现登录google的instance需要点击控制台上的\"),e(\"strong\",[s._v(\"SSH\")]),s._v(\"打开页面版consol来进行命令操作，非常低效。。\")]),s._v(\" \"),e(\"div\",{staticStyle:{display:\"flex\"}},[e(\"img\",{staticStyle:{zoom:\"40%\",display:\"block\"},attrs:{src:a(443),alt:\"Home.vue\",align:\"left\"}})]),s._v(\" \"),e(\"p\",[s._v(\"我们还是希望类似之前的阿里云，能通过自己的客户端直接ssh上去，所以需要以下设置。\")]),s._v(\" \"),e(\"ul\",[e(\"li\",[e(\"p\",[s._v(\"点击\"),e(\"em\",[s._v(\"ssh\")]),s._v(\"登录到instance，切换到root用户\")]),s._v(\" \"),e(\"div\",{staticClass:\"language-sh line-numbers-mode\"},[e(\"pre\",{pre:!0,attrs:{class:\"language-sh\"}},[e(\"code\",[s._v(\"//切换到root角色\\n\"),e(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"sudo\")]),s._v(\" -i\\n\")])]),s._v(\" \"),e(\"div\",{staticClass:\"line-numbers-wrapper\"},[e(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),e(\"br\"),e(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),e(\"br\")])])]),s._v(\" \"),e(\"li\",[e(\"p\",[s._v(\"修改instance的配置文件\")]),s._v(\" \"),e(\"div\",{staticClass:\"language-sh line-numbers-mode\"},[e(\"pre\",{pre:!0,attrs:{class:\"language-sh\"}},[e(\"code\",[s._v(\"//修改配置文件\\n\"),e(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"vi\")]),s._v(\" /etc/ssh/sshd_config\\n\"),e(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"#LoginGraceTime 2m\")]),s._v(\"\\nPermitRootLogin \"),e(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"yes\")]),s._v(\"\\n\\n\"),e(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"# To disable tunneled clear text passwords, change to no here!\")]),s._v(\"\\nPasswordAuthentication \"),e(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"yes\")]),s._v(\"\\n\")])]),s._v(\" \"),e(\"div\",{staticClass:\"line-numbers-wrapper\"},[e(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),e(\"br\"),e(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),e(\"br\"),e(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),e(\"br\"),e(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),e(\"br\"),e(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),e(\"br\"),e(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),e(\"br\"),e(\"span\",{staticClass:\"line-number\"},[s._v(\"7\")]),e(\"br\")])])]),s._v(\" \"),e(\"li\",[e(\"p\",[s._v(\"修改实例的root密码\")]),s._v(\" \"),e(\"div\",{staticClass:\"language-sh line-numbers-mode\"},[e(\"pre\",{pre:!0,attrs:{class:\"language-sh\"}},[e(\"code\",[e(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"[\")]),s._v(\"root@xxx ~\"),e(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"]\")]),s._v(\"$ \"),e(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"passwd\")]),s._v(\"\\n\")])]),s._v(\" \"),e(\"div\",{staticClass:\"line-numbers-wrapper\"},[e(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),e(\"br\")])])]),s._v(\" \"),e(\"li\",[e(\"p\",[e(\"em\",[s._v(\"重启实例\")])])]),s._v(\" \"),e(\"li\",[e(\"p\",[s._v(\"从本地登录我们的instance\")]),s._v(\" \"),e(\"div\",{staticClass:\"language-sh line-numbers-mode\"},[e(\"pre\",{pre:!0,attrs:{class:\"language-sh\"}},[e(\"code\",[s._v(\"hy_mac:bin heyan$ \"),e(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"ssh\")]),s._v(\" root@34.96.208.160\\nroot@34.96.208.160's password:\\n\")])]),s._v(\" \"),e(\"div\",{staticClass:\"line-numbers-wrapper\"},[e(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),e(\"br\"),e(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),e(\"br\")])])])]),s._v(\" \"),e(\"h3\",{attrs:{id:\"v2ray安装配置\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#v2ray安装配置\"}},[s._v(\"#\")]),s._v(\" V2Ray安装配置\")]),s._v(\" \"),e(\"p\",[s._v(\"参考 \"),e(\"a\",{attrs:{href:\"%22https://www.hijk.pw/centos-one-click-install-v2ray/%22\"}},[s._v(\"V2Ray一键脚本\")]),s._v(\"一文安装配置（V2Ray具体细节可直接登录查看）。大概流程记录\")]),s._v(\" \"),e(\"ul\",[e(\"li\",[e(\"p\",[s._v(\"登录instance执行\")]),s._v(\" \"),e(\"div\",{staticClass:\"language-sh line-numbers-mode\"},[e(\"pre\",{pre:!0,attrs:{class:\"language-sh\"}},[e(\"code\",[e(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"bash\")]),s._v(\" \"),e(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"<\")]),e(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"(\")]),e(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"curl\")]),s._v(\" -sL https://raw.githubusercontent.com/hijkpw/scripts/master/centos_install_v2ray.sh\"),e(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\")\")]),s._v(\"\\n\")])]),s._v(\" \"),e(\"div\",{staticClass:\"line-numbers-wrapper\"},[e(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),e(\"br\")])]),e(\"p\",[s._v(\"运行成功后会直接显示 V2Ray登录的相关信息\")]),s._v(\" \"),e(\"div\",{staticStyle:{display:\"flex\"}},[e(\"img\",{staticStyle:{zoom:\"40%\",display:\"block\"},attrs:{src:a(444),alt:\"Home.vue\",align:\"left\"}})])])]),s._v(\" \"),e(\"br\"),s._v(\" \"),e(\"blockquote\",[e(\"h4\",{attrs:{id:\"v2ray-相关操作\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#v2ray-相关操作\"}},[s._v(\"#\")]),s._v(\" V2Ray 相关操作\")]),s._v(\" \"),e(\"p\",[s._v(\"脚本安装完成无误后，可以进行如下操作：\")]),s._v(\" \"),e(\"ol\",[e(\"li\",[s._v(\"编辑 vim /etc/v2ray/config.json 文件来配置你需要的代理方式；\")]),s._v(\" \"),e(\"li\",[s._v(\"运行 \"),e(\"strong\",[s._v(\"service\")]),s._v(\" v2ray start 来启动 V2Ray 进程；\")]),s._v(\" \"),e(\"li\",[s._v(\"之后可以使用 service v2ray start|stop|status|reload|restart|force-reload 控制 V2Ray 的运行。\")])])]),s._v(\" \"),e(\"br\"),s._v(\" \"),e(\"h3\",{attrs:{id:\"客户端配置连接\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#客户端配置连接\"}},[s._v(\"#\")]),s._v(\" 客户端配置连接\")]),s._v(\" \"),e(\"p\",[s._v(\"具体使用什么客户端，可自行网上搜索，这里我是mac系统，选用的是\"),e(\"strong\",[s._v(\"V2RayX\")]),s._v(\"客户端。把刚刚生成的信息填入到客户端，如下\")]),s._v(\" \"),e(\"div\",{staticStyle:{display:\"flex\"}},[e(\"img\",{staticStyle:{zoom:\"40%\",display:\"block\"},attrs:{src:a(445),alt:\"Home.vue\",align:\"left\"}})]),s._v(\" \"),e(\"br\"),s._v(\" \"),e(\"p\",[s._v(\"尝试连接youtube试试\")]),s._v(\" \"),e(\"div\",{staticStyle:{display:\"flex\"}},[e(\"img\",{staticStyle:{zoom:\"20%\",display:\"block\"},attrs:{src:a(446),alt:\"Home.vue\",align:\"left\"}})]),s._v(\" \"),e(\"br\"),s._v(\" \"),e(\"p\",[s._v(\"好了，You Did it!\")])])}),[],!1,null,null,null);t.default=n.exports}}]);","extractedComments":[]}