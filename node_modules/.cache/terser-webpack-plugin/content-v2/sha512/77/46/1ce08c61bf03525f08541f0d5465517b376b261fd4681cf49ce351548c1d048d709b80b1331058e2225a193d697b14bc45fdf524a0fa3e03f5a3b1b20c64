{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{207:function(t,s,a){t.exports=a.p+\"assets/img/cdi-1.d2ebaa41.jpg\"},250:function(t,s,a){\"use strict\";a.r(s);var e=a(0),r=Object(e.a)({},(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e(\"ContentSlotsDistributor\",{attrs:{\"slot-key\":t.$parent.slotKey}},[e(\"h1\",{attrs:{id:\"centos云服务器安装docker环境\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#centos云服务器安装docker环境\"}},[t._v(\"#\")]),t._v(\" CentOS云服务器安装Docker环境\")]),t._v(\" \"),e(\"p\",[t._v(\"因为采用的是阿里云的CentOS服务器，所以本篇是基于CentOS的Docker环境安装与配置。不说了，直接上安装步骤。\")]),t._v(\" \"),e(\"h2\",{attrs:{id:\"安装步骤\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#安装步骤\"}},[t._v(\"#\")]),t._v(\" \"),e(\"strong\",[t._v(\"安装步骤\")])]),t._v(\" \"),e(\"h4\",{attrs:{id:\"_1-确定系统是centos7及以上版本\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_1-确定系统是centos7及以上版本\"}},[t._v(\"#\")]),t._v(\" \"),e(\"strong\",[t._v(\"1. 确定系统是CentOS7及以上版本\")])]),t._v(\" \"),e(\"p\",[e(\"code\",[t._v(\"cat /etc/redhat-release\")])]),t._v(\" \"),e(\"h4\",{attrs:{id:\"_2-yum安装gcc相关\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_2-yum安装gcc相关\"}},[t._v(\"#\")]),t._v(\" 2.\"),e(\"strong\",[t._v(\"yum安装gcc相关\")])]),t._v(\" \"),e(\"div\",{staticClass:\"language-sh extra-class\"},[e(\"pre\",{pre:!0,attrs:{class:\"language-sh\"}},[e(\"code\",[t._v(\"yum -y \"),e(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"install\")]),t._v(\" gcc\\nyum -y \"),e(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"install\")]),t._v(\" gcc-c++\\n\")])])]),e(\"div\",{staticClass:\"custom-block tip\"},[e(\"p\",{staticClass:\"custom-block-title\"},[t._v(\"TIP\")]),t._v(\" \"),e(\"p\",[t._v(\"下面安装步骤可以参考官网：https://docs.docker.com/install/linux/docker-ce/centos/\")])]),t._v(\" \"),e(\"h4\",{attrs:{id:\"_3-卸载旧版本\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_3-卸载旧版本\"}},[t._v(\"#\")]),t._v(\" 3.\"),e(\"strong\",[t._v(\"卸载旧版本\")])]),t._v(\" \"),e(\"div\",{staticClass:\"language-sh extra-class\"},[e(\"pre\",{pre:!0,attrs:{class:\"language-sh\"}},[e(\"code\",[e(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"sudo\")]),t._v(\" yum remove docker \"),e(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"\\\\\")]),t._v(\"\\n                  docker-client \"),e(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"\\\\\")]),t._v(\"\\n                  docker-client-latest \"),e(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"\\\\\")]),t._v(\"\\n                  docker-common \"),e(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"\\\\\")]),t._v(\"\\n                  docker-latest \"),e(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"\\\\\")]),t._v(\"\\n                  docker-latest-logrotate \"),e(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"\\\\\")]),t._v(\"\\n                  docker-logrotate \"),e(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"\\\\\")]),t._v(\"\\n                  docker-engine\\n\")])])]),e(\"p\",[t._v(\"It’s OK if \"),e(\"code\",[t._v(\"yum\")]),t._v(\" reports that none of these packages are installed.\")]),t._v(\" \"),e(\"h4\",{attrs:{id:\"_4-安装需要的软件包\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_4-安装需要的软件包\"}},[t._v(\"#\")]),t._v(\" **4.**安装需要的软件包\")]),t._v(\" \"),e(\"p\",[t._v(\"Install required packages. \"),e(\"code\",[t._v(\"yum-utils\")]),t._v(\" provides the \"),e(\"code\",[t._v(\"yum-config-manager\")]),t._v(\" utility, and \"),e(\"code\",[t._v(\"device-mapper-persistent-data\")]),t._v(\" and \"),e(\"code\",[t._v(\"lvm2\")]),t._v(\" are required by the devicemapper storage driver.\")]),t._v(\" \"),e(\"div\",{staticClass:\"language-sh extra-class\"},[e(\"pre\",{pre:!0,attrs:{class:\"language-sh\"}},[e(\"code\",[e(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"sudo\")]),t._v(\" yum \"),e(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"install\")]),t._v(\" -y yum-utils \"),e(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"\\\\\")]),t._v(\"\\n  device-mapper-persistent-data \"),e(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"\\\\\")]),t._v(\"\\n  lvm2\\n\")])])]),e(\"p\",[t._v(\"Use the following command to set up the \"),e(\"strong\",[t._v(\"stable\")]),t._v(\" repository.\")]),t._v(\" \"),e(\"div\",{staticClass:\"language-sh extra-class\"},[e(\"pre\",{pre:!0,attrs:{class:\"language-sh\"}},[e(\"code\",[e(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"#国外镜像源（慢）\")]),t._v(\"\\nyum-config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo\\n\"),e(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"#阿里云镜像源（快）\")]),t._v(\"\\nyum-config-manager --add-repo https://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo\\n\")])])]),e(\"h4\",{attrs:{id:\"_5-更新yum软件包索引\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_5-更新yum软件包索引\"}},[t._v(\"#\")]),t._v(\" 5.\"),e(\"strong\",[t._v(\"更新yum软件包索引\")])]),t._v(\" \"),e(\"div\",{staticClass:\"language-sh extra-class\"},[e(\"pre\",{pre:!0,attrs:{class:\"language-sh\"}},[e(\"code\",[t._v(\"yum makecache fast\\n\")])])]),e(\"h4\",{attrs:{id:\"_6-安装docker-ce\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_6-安装docker-ce\"}},[t._v(\"#\")]),t._v(\" 6.\"),e(\"strong\",[t._v(\"安装Docker CE\")])]),t._v(\" \"),e(\"div\",{staticClass:\"language-sh extra-class\"},[e(\"pre\",{pre:!0,attrs:{class:\"language-sh\"}},[e(\"code\",[t._v(\"yum -y \"),e(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"install\")]),t._v(\" docker-ce\\n\")])])]),e(\"h4\",{attrs:{id:\"_7-启动docker\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_7-启动docker\"}},[t._v(\"#\")]),t._v(\" 7.\"),e(\"strong\",[t._v(\"启动Docker\")])]),t._v(\" \"),e(\"div\",{staticClass:\"language-sh extra-class\"},[e(\"pre\",{pre:!0,attrs:{class:\"language-sh\"}},[e(\"code\",[t._v(\"systemctl start docker\\n\")])])]),e(\"h4\",{attrs:{id:\"_8-测试\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_8-测试\"}},[t._v(\"#\")]),t._v(\" 8.测试\")]),t._v(\" \"),e(\"div\",{staticClass:\"language-sh extra-class\"},[e(\"pre\",{pre:!0,attrs:{class:\"language-sh\"}},[e(\"code\",[t._v(\"docker verison \\n\"),e(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"# Verify that Docker Engine - Community is installed correctly by running the hello-world image\")]),t._v(\"\\ndocker run hello-world\\n\")])])]),e(\"br\"),t._v(\" \"),e(\"p\",[e(\"font\",{staticStyle:{\"font-weight\":\"600\"},attrs:{color:\"orange\"}},[t._v(\"配置阿里云加速\")])],1),t._v(\" \"),e(\"h4\",{attrs:{id:\"_9-配置阿里云镜像加速\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_9-配置阿里云镜像加速\"}},[t._v(\"#\")]),t._v(\" 9.\"),e(\"strong\",[t._v(\"配置阿里云镜像加速\")])]),t._v(\" \"),e(\"p\",[t._v(\"https://cr.console.aliyun.com/cn-hangzhou/instances/mirrors\")]),t._v(\" \"),e(\"p\",[t._v(\"具体可在个人界面“容器镜像服务”里面找到相关服务,如图\")]),t._v(\" \"),e(\"div\",{staticStyle:{display:\"flex\"}},[e(\"img\",{staticStyle:{zoom:\"40%\",display:\"block\"},attrs:{src:a(207),alt:\"容器镜像服务\",align:\"left\"}})]),t._v(\"\\n- **注册阿里云账号**\\n- **配置镜像加速器**\\n\"),e(\"blockquote\",[e(\"p\",[t._v(\"针对Docker客户端版本大于 1.10.0 的用户\")]),t._v(\" \"),e(\"p\",[t._v(\"您可以通过修改daemon配置文件\"),e(\"code\",[t._v(\"/etc/docker/daemon.json\")]),t._v(\"来使用加速器\")]),t._v(\" \"),e(\"div\",{staticClass:\"language-sh extra-class\"},[e(\"pre\",{pre:!0,attrs:{class:\"language-sh\"}},[e(\"code\",[e(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"sudo\")]),t._v(\" \"),e(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"mkdir\")]),t._v(\" -p /etc/docker\\n\"),e(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"sudo\")]),t._v(\" \"),e(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"tee\")]),t._v(\" /etc/docker/daemon.json \"),e(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"<<-\")]),e(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v('\\'EOF\\'\\n{\\n \"registry-mirrors\": [\"https://xxxxxx.mirror.aliyuncs.com\"]\\n}\\nEOF')]),t._v(\"\\n\"),e(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"sudo\")]),t._v(\" systemctl daemon-reload\\n\"),e(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"sudo\")]),t._v(\" systemctl restart docker\\n\")])])])]),t._v(\" \"),e(\"h4\",{attrs:{id:\"_10-如需卸载，参考如下命令\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_10-如需卸载，参考如下命令\"}},[t._v(\"#\")]),t._v(\" \"),e(\"div\",{staticStyle:{background:\"#ffc862\"}},[t._v(\"10.\"),e(\"strong\",[t._v(\"如需卸载，参考如下命令\")])])]),t._v(\" \"),e(\"div\",{staticClass:\"language-sh extra-class\"},[e(\"pre\",{pre:!0,attrs:{class:\"language-sh\"}},[e(\"code\",[t._v(\"systemctl stop docker\\nyum -y remove docker-ce\\n\"),e(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"rm\")]),t._v(\" -rf /var/lib/docker\\n\")])])])])}),[],!1,null,null,null);s.default=r.exports}}]);","extractedComments":[]}