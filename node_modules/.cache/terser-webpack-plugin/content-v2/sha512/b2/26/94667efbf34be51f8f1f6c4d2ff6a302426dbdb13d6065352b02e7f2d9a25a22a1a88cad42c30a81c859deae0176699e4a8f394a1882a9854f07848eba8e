{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{207:function(t,e,a){t.exports=a.p+\"assets/img/cdi-1.d2ebaa41.jpg\"},241:function(t,e,a){\"use strict\";a.r(e);var s=a(0),r=Object(s.a)({},(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s(\"ContentSlotsDistributor\",{attrs:{\"slot-key\":t.$parent.slotKey}},[s(\"h1\",{attrs:{id:\"centos云服务器安装docker环境\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#centos云服务器安装docker环境\"}},[t._v(\"#\")]),t._v(\" CentOS云服务器安装Docker环境\")]),t._v(\" \"),s(\"p\",[t._v(\"因为采用的是阿里云的CentOS服务器，所以本篇是基于CentOS的Docker环境安装与配置。不说了，直接上安装步骤。\")]),t._v(\" \"),s(\"h2\",{attrs:{id:\"安装步骤\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#安装步骤\"}},[t._v(\"#\")]),t._v(\" \"),s(\"strong\",[t._v(\"安装步骤\")])]),t._v(\" \"),s(\"h4\",{attrs:{id:\"_1-确定系统是centos7及以上版本\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_1-确定系统是centos7及以上版本\"}},[t._v(\"#\")]),t._v(\" \"),s(\"strong\",[t._v(\"1. 确定系统是CentOS7及以上版本\")])]),t._v(\" \"),s(\"p\",[s(\"code\",[t._v(\"cat /etc/redhat-release\")])]),t._v(\" \"),s(\"h4\",{attrs:{id:\"_2-yum安装gcc相关\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_2-yum安装gcc相关\"}},[t._v(\"#\")]),t._v(\" 2.\"),s(\"strong\",[t._v(\"yum安装gcc相关\")])]),t._v(\" \"),s(\"div\",{staticClass:\"language-shell extra-class\"},[s(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[s(\"code\",[t._v(\"yum -y install gcc\\nyum -y install gcc-c++\\n\")])])]),s(\"div\",{staticClass:\"custom-block tip\"},[s(\"p\",{staticClass:\"custom-block-title\"},[t._v(\"TIP\")]),t._v(\" \"),s(\"p\",[t._v(\"下面安装步骤可以参考官网：https://docs.docker.com/install/linux/docker-ce/centos/\")])]),t._v(\" \"),s(\"h4\",{attrs:{id:\"_3-卸载旧版本\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_3-卸载旧版本\"}},[t._v(\"#\")]),t._v(\" 3.\"),s(\"strong\",[t._v(\"卸载旧版本\")])]),t._v(\" \"),s(\"div\",{staticClass:\"language-shell extra-class\"},[s(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[s(\"code\",[t._v(\"sudo yum remove docker \\\\\\n                  docker-client \\\\\\n                  docker-client-latest \\\\\\n                  docker-common \\\\\\n                  docker-latest \\\\\\n                  docker-latest-logrotate \\\\\\n                  docker-logrotate \\\\\\n                  docker-engine\\n\")])])]),s(\"p\",[t._v(\"It’s OK if \"),s(\"code\",[t._v(\"yum\")]),t._v(\" reports that none of these packages are installed.\")]),t._v(\" \"),s(\"h4\",{attrs:{id:\"_4-安装需要的软件包\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_4-安装需要的软件包\"}},[t._v(\"#\")]),t._v(\" **4.**安装需要的软件包\")]),t._v(\" \"),s(\"p\",[t._v(\"Install required packages. \"),s(\"code\",[t._v(\"yum-utils\")]),t._v(\" provides the \"),s(\"code\",[t._v(\"yum-config-manager\")]),t._v(\" utility, and \"),s(\"code\",[t._v(\"device-mapper-persistent-data\")]),t._v(\" and \"),s(\"code\",[t._v(\"lvm2\")]),t._v(\" are required by the devicemapper storage driver.\")]),t._v(\" \"),s(\"div\",{staticClass:\"language-shell extra-class\"},[s(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[s(\"code\",[t._v(\"sudo yum install -y yum-utils \\\\\\n  device-mapper-persistent-data \\\\\\n  lvm2\\n\")])])]),s(\"p\",[t._v(\"Use the following command to set up the \"),s(\"strong\",[t._v(\"stable\")]),t._v(\" repository.\")]),t._v(\" \"),s(\"div\",{staticClass:\"language-shell extra-class\"},[s(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[s(\"code\",[t._v(\"#国外镜像源（慢）\\nyum-config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo\\n#阿里云镜像源（快）\\nyum-config-manager --add-repo https://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo\\n\")])])]),s(\"h4\",{attrs:{id:\"_5-更新yum软件包索引\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_5-更新yum软件包索引\"}},[t._v(\"#\")]),t._v(\" 5.\"),s(\"strong\",[t._v(\"更新yum软件包索引\")])]),t._v(\" \"),s(\"div\",{staticClass:\"language-shell extra-class\"},[s(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[s(\"code\",[t._v(\"yum makecache fast\\n\")])])]),s(\"h4\",{attrs:{id:\"_6-安装docker-ce\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_6-安装docker-ce\"}},[t._v(\"#\")]),t._v(\" 6.\"),s(\"strong\",[t._v(\"安装Docker CE\")])]),t._v(\" \"),s(\"div\",{staticClass:\"language-shell extra-class\"},[s(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[s(\"code\",[t._v(\"yum -y install docker-ce\\n\")])])]),s(\"h4\",{attrs:{id:\"_7-启动docker\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_7-启动docker\"}},[t._v(\"#\")]),t._v(\" 7.\"),s(\"strong\",[t._v(\"启动Docker\")])]),t._v(\" \"),s(\"div\",{staticClass:\"language-shell extra-class\"},[s(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[s(\"code\",[t._v(\"systemctl start docker\\n\")])])]),s(\"h4\",{attrs:{id:\"_8-测试\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_8-测试\"}},[t._v(\"#\")]),t._v(\" 8.测试\")]),t._v(\" \"),s(\"div\",{staticClass:\"language-shell extra-class\"},[s(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[s(\"code\",[t._v(\"docker verison \\n# Verify that Docker Engine - Community is installed correctly by running the hello-world image\\ndocker run hello-world\\n\")])])]),s(\"br\"),t._v(\" \"),s(\"p\",[s(\"font\",{staticStyle:{\"font-weight\":\"600\"},attrs:{color:\"orange\"}},[t._v(\"配置阿里云加速\")])],1),t._v(\" \"),s(\"h4\",{attrs:{id:\"_9-配置阿里云镜像加速\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_9-配置阿里云镜像加速\"}},[t._v(\"#\")]),t._v(\" 9.\"),s(\"strong\",[t._v(\"配置阿里云镜像加速\")])]),t._v(\" \"),s(\"p\",[t._v(\"https://cr.console.aliyun.com/cn-hangzhou/instances/mirrors\")]),t._v(\" \"),s(\"p\",[t._v(\"具体可在个人界面“容器镜像服务”里面找到相关服务,如图\")]),t._v(\" \"),s(\"div\",{staticStyle:{display:\"flex\"}},[s(\"img\",{staticStyle:{zoom:\"40%\",display:\"block\"},attrs:{src:a(207),alt:\"容器镜像服务\",align:\"left\"}})]),t._v(\"\\n- **注册阿里云账号**\\n- **配置镜像加速器**\\n\"),s(\"blockquote\",[s(\"p\",[t._v(\"针对Docker客户端版本大于 1.10.0 的用户\")]),t._v(\" \"),s(\"p\",[t._v(\"您可以通过修改daemon配置文件\"),s(\"code\",[t._v(\"/etc/docker/daemon.json\")]),t._v(\"来使用加速器\")]),t._v(\" \"),s(\"div\",{staticClass:\"language-shell extra-class\"},[s(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[s(\"code\",[t._v('sudo mkdir -p /etc/docker\\nsudo tee /etc/docker/daemon.json <<-\\'EOF\\'\\n{\\n \"registry-mirrors\": [\"https://xxxxxx.mirror.aliyuncs.com\"]\\n}\\nEOF\\nsudo systemctl daemon-reload\\nsudo systemctl restart docker\\n')])])])]),t._v(\" \"),s(\"h4\",{attrs:{id:\"_10-如需卸载，参考如下命令\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_10-如需卸载，参考如下命令\"}},[t._v(\"#\")]),t._v(\" \"),s(\"div\",{staticStyle:{background:\"#ffc862\"}},[t._v(\"10.\"),s(\"strong\",[t._v(\"如需卸载，参考如下命令\")])])]),t._v(\" \"),s(\"div\",{staticClass:\"language-shell extra-class\"},[s(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[s(\"code\",[t._v(\"systemctl stop docker\\nyum -y remove docker-ce\\nrm -rf /var/lib/docker\\n\")])])])])}),[],!1,null,null,null);e.default=r.exports}}]);","extractedComments":[]}