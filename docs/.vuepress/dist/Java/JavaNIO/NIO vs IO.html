<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>NIO vs IO | Yan&#39;s Blog Home</title>
    <meta name="description" content="Personal blog site">
    
    
    <link rel="preload" href="/assets/css/0.styles.cd4a49f4.css" as="style"><link rel="preload" href="/assets/js/app.6e34a036.js" as="script"><link rel="preload" href="/assets/js/2.d8c7de32.js" as="script"><link rel="preload" href="/assets/js/28.c6510a4b.js" as="script"><link rel="prefetch" href="/assets/js/10.009807ae.js"><link rel="prefetch" href="/assets/js/100.322d115a.js"><link rel="prefetch" href="/assets/js/101.9f2f0e73.js"><link rel="prefetch" href="/assets/js/102.54e1df53.js"><link rel="prefetch" href="/assets/js/103.1c52acb0.js"><link rel="prefetch" href="/assets/js/104.1d283eaf.js"><link rel="prefetch" href="/assets/js/105.050f821a.js"><link rel="prefetch" href="/assets/js/106.3a3acecf.js"><link rel="prefetch" href="/assets/js/107.b3eefe03.js"><link rel="prefetch" href="/assets/js/108.5086d5a7.js"><link rel="prefetch" href="/assets/js/109.41e38f6d.js"><link rel="prefetch" href="/assets/js/11.5b7299cb.js"><link rel="prefetch" href="/assets/js/110.6544d695.js"><link rel="prefetch" href="/assets/js/111.ea7e0244.js"><link rel="prefetch" href="/assets/js/12.904d3ee7.js"><link rel="prefetch" href="/assets/js/13.fb23e2be.js"><link rel="prefetch" href="/assets/js/14.6644a39f.js"><link rel="prefetch" href="/assets/js/15.f46fbd16.js"><link rel="prefetch" href="/assets/js/16.791e85b6.js"><link rel="prefetch" href="/assets/js/17.eff56491.js"><link rel="prefetch" href="/assets/js/18.15b7f5aa.js"><link rel="prefetch" href="/assets/js/19.4fa520ef.js"><link rel="prefetch" href="/assets/js/20.9bf7f090.js"><link rel="prefetch" href="/assets/js/21.90620d20.js"><link rel="prefetch" href="/assets/js/22.f50f693f.js"><link rel="prefetch" href="/assets/js/23.dbeb9e5d.js"><link rel="prefetch" href="/assets/js/24.280efe40.js"><link rel="prefetch" href="/assets/js/25.9651137e.js"><link rel="prefetch" href="/assets/js/26.843c176e.js"><link rel="prefetch" href="/assets/js/27.973221fc.js"><link rel="prefetch" href="/assets/js/29.cef09ac2.js"><link rel="prefetch" href="/assets/js/3.d9095a9d.js"><link rel="prefetch" href="/assets/js/30.ec917e14.js"><link rel="prefetch" href="/assets/js/31.98843d33.js"><link rel="prefetch" href="/assets/js/32.58c78a58.js"><link rel="prefetch" href="/assets/js/33.9c1edee7.js"><link rel="prefetch" href="/assets/js/34.c8c147a2.js"><link rel="prefetch" href="/assets/js/35.2c1b8faf.js"><link rel="prefetch" href="/assets/js/36.9584f9f5.js"><link rel="prefetch" href="/assets/js/37.8c14f491.js"><link rel="prefetch" href="/assets/js/38.d4afe74f.js"><link rel="prefetch" href="/assets/js/39.1a5f5307.js"><link rel="prefetch" href="/assets/js/4.a4f1b3c2.js"><link rel="prefetch" href="/assets/js/40.044881e7.js"><link rel="prefetch" href="/assets/js/41.23c8beeb.js"><link rel="prefetch" href="/assets/js/42.55b3c0a5.js"><link rel="prefetch" href="/assets/js/43.5f9799b9.js"><link rel="prefetch" href="/assets/js/44.7a61142c.js"><link rel="prefetch" href="/assets/js/45.90860cc2.js"><link rel="prefetch" href="/assets/js/46.0ead2ce1.js"><link rel="prefetch" href="/assets/js/47.dd878062.js"><link rel="prefetch" href="/assets/js/48.efd39c05.js"><link rel="prefetch" href="/assets/js/49.c902eae4.js"><link rel="prefetch" href="/assets/js/5.ccd2bff3.js"><link rel="prefetch" href="/assets/js/50.d776a771.js"><link rel="prefetch" href="/assets/js/51.dee8204a.js"><link rel="prefetch" href="/assets/js/52.fb47faf7.js"><link rel="prefetch" href="/assets/js/53.73cd8ad4.js"><link rel="prefetch" href="/assets/js/54.e3734239.js"><link rel="prefetch" href="/assets/js/55.a9493804.js"><link rel="prefetch" href="/assets/js/56.5e42a719.js"><link rel="prefetch" href="/assets/js/57.dd3fcd75.js"><link rel="prefetch" href="/assets/js/58.87e3e66f.js"><link rel="prefetch" href="/assets/js/59.3c3de5c2.js"><link rel="prefetch" href="/assets/js/6.d9065cf3.js"><link rel="prefetch" href="/assets/js/60.e20944ec.js"><link rel="prefetch" href="/assets/js/61.93fbd1b4.js"><link rel="prefetch" href="/assets/js/62.b9635c03.js"><link rel="prefetch" href="/assets/js/63.26ce6c7c.js"><link rel="prefetch" href="/assets/js/64.2be399f4.js"><link rel="prefetch" href="/assets/js/65.3b048b7b.js"><link rel="prefetch" href="/assets/js/66.9bfc1632.js"><link rel="prefetch" href="/assets/js/67.0ed98bac.js"><link rel="prefetch" href="/assets/js/68.9e3c72be.js"><link rel="prefetch" href="/assets/js/69.194dd735.js"><link rel="prefetch" href="/assets/js/7.60d32557.js"><link rel="prefetch" href="/assets/js/70.65f12cfb.js"><link rel="prefetch" href="/assets/js/71.10a397ab.js"><link rel="prefetch" href="/assets/js/72.e2eb5440.js"><link rel="prefetch" href="/assets/js/73.af20da01.js"><link rel="prefetch" href="/assets/js/74.f76d6661.js"><link rel="prefetch" href="/assets/js/75.a5904fe0.js"><link rel="prefetch" href="/assets/js/76.8cbcdc02.js"><link rel="prefetch" href="/assets/js/77.09c3fecb.js"><link rel="prefetch" href="/assets/js/78.b1d5d157.js"><link rel="prefetch" href="/assets/js/79.57cd57e8.js"><link rel="prefetch" href="/assets/js/8.ad03828c.js"><link rel="prefetch" href="/assets/js/80.3859000c.js"><link rel="prefetch" href="/assets/js/81.eec48d7d.js"><link rel="prefetch" href="/assets/js/82.4b0c0163.js"><link rel="prefetch" href="/assets/js/83.3c858fd3.js"><link rel="prefetch" href="/assets/js/84.214eca48.js"><link rel="prefetch" href="/assets/js/85.f1e91461.js"><link rel="prefetch" href="/assets/js/86.48249b6f.js"><link rel="prefetch" href="/assets/js/87.697df349.js"><link rel="prefetch" href="/assets/js/88.05d2b171.js"><link rel="prefetch" href="/assets/js/89.a8145c11.js"><link rel="prefetch" href="/assets/js/9.3e502c99.js"><link rel="prefetch" href="/assets/js/90.7a84bf59.js"><link rel="prefetch" href="/assets/js/91.40b63db1.js"><link rel="prefetch" href="/assets/js/92.762ac0c7.js"><link rel="prefetch" href="/assets/js/93.8269a815.js"><link rel="prefetch" href="/assets/js/94.56ecb66b.js"><link rel="prefetch" href="/assets/js/95.46ad459f.js"><link rel="prefetch" href="/assets/js/96.d1c32042.js"><link rel="prefetch" href="/assets/js/97.4aaebd54.js"><link rel="prefetch" href="/assets/js/98.bd30c714.js"><link rel="prefetch" href="/assets/js/99.81ddeb80.js">
    <link rel="stylesheet" href="/assets/css/0.styles.cd4a49f4.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Yan's Blog Home</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="技术主题" class="dropdown-title"><span class="title">技术主题</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Java相关</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/Java/" class="nav-link router-link-active">index</a></li></ul></li><li class="dropdown-item"><h4>Architect相关</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/Architect/" class="nav-link">index</a></li></ul></li><li class="dropdown-item"><h4>数据存储</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/DataStorage/" class="nav-link">index</a></li></ul></li><li class="dropdown-item"><h4>DevOps</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/DevOps/" class="nav-link">index</a></li></ul></li><li class="dropdown-item"><h4>分布式</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/DistributedSystem/" class="nav-link">index</a></li></ul></li><li class="dropdown-item"><h4>前端</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/Frontend/" class="nav-link">index</a></li></ul></li><li class="dropdown-item"><h4>微服务相关</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/Microservice/" class="nav-link">index</a></li></ul></li><li class="dropdown-item"><h4>Monitor</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/Monitor/" class="nav-link">index</a></li></ul></li><li class="dropdown-item"><h4>Python</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/Python/" class="nav-link">index</a></li></ul></li><li class="dropdown-item"><h4>一些知识</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/SomeKnowledges/" class="nav-link">index</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/index/" class="nav-link">Develop Home</a></div><div class="nav-item"><a href="/comments.html" class="nav-link">留言</a></div><div class="nav-item"><a href="https://heyan.site/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Site Home
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="技术主题" class="dropdown-title"><span class="title">技术主题</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Java相关</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/Java/" class="nav-link router-link-active">index</a></li></ul></li><li class="dropdown-item"><h4>Architect相关</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/Architect/" class="nav-link">index</a></li></ul></li><li class="dropdown-item"><h4>数据存储</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/DataStorage/" class="nav-link">index</a></li></ul></li><li class="dropdown-item"><h4>DevOps</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/DevOps/" class="nav-link">index</a></li></ul></li><li class="dropdown-item"><h4>分布式</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/DistributedSystem/" class="nav-link">index</a></li></ul></li><li class="dropdown-item"><h4>前端</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/Frontend/" class="nav-link">index</a></li></ul></li><li class="dropdown-item"><h4>微服务相关</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/Microservice/" class="nav-link">index</a></li></ul></li><li class="dropdown-item"><h4>Monitor</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/Monitor/" class="nav-link">index</a></li></ul></li><li class="dropdown-item"><h4>Python</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/Python/" class="nav-link">index</a></li></ul></li><li class="dropdown-item"><h4>一些知识</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/SomeKnowledges/" class="nav-link">index</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/index/" class="nav-link">Develop Home</a></div><div class="nav-item"><a href="/comments.html" class="nav-link">留言</a></div><div class="nav-item"><a href="https://heyan.site/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Site Home
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Java</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Java Basic</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Java NIO</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Java/JavaNIO/" class="sidebar-link">JavaNIO</a></li><li><a href="/Java/JavaNIO/ZeroCopy.html" class="sidebar-link">Zero Copy</a></li><li><a href="/Java/JavaNIO/Java网络编程.html" class="sidebar-link">Java网络编程</a></li><li><a href="/Java/JavaNIO/JavaBIO.html" class="sidebar-link">JavaBIO 模型</a></li><li><a href="/Java/JavaNIO/JavaNIO-概述.html" class="sidebar-link">JavaNIO - 概述</a></li><li><a href="/Java/JavaNIO/JavaNIO-Buffer.html" class="sidebar-link">JavaNIO - Buffer</a></li><li><a href="/Java/JavaNIO/JavaNIO-Channal.html" class="sidebar-link">JavaNIO - Channal</a></li><li><a href="/Java/JavaNIO/JavaNIO-Selector.html" class="sidebar-link">JavaNIO - Selector</a></li><li><a href="/Java/JavaNIO/JavaNIO-Path&amp;Files.html" class="sidebar-link">JavaNIO - Path &amp; Files</a></li><li><a href="/Java/JavaNIO/JavaNIO-Samples.html" class="sidebar-link">JavaNIO - Samples</a></li><li><a href="/Java/JavaNIO/NIO vs IO.html" class="active sidebar-link">NIO vs IO</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Java/JavaNIO/NIO vs IO.html#java-nio和io的主要区别" class="sidebar-link">Java NIO和IO的主要区别</a></li><li class="sidebar-sub-header"><a href="/Java/JavaNIO/NIO vs IO.html#面向流与面向缓冲" class="sidebar-link">面向流与面向缓冲</a></li><li class="sidebar-sub-header"><a href="/Java/JavaNIO/NIO vs IO.html#阻塞与非阻塞io" class="sidebar-link">阻塞与非阻塞IO</a></li><li class="sidebar-sub-header"><a href="/Java/JavaNIO/NIO vs IO.html#选择器（selectors）" class="sidebar-link">选择器（Selectors）</a></li><li class="sidebar-sub-header"><a href="/Java/JavaNIO/NIO vs IO.html#nio和io如何影响应用程序的设计" class="sidebar-link">NIO和IO如何影响应用程序的设计</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Java/JavaNIO/NIO vs IO.html#api调用" class="sidebar-link">API调用</a></li><li class="sidebar-sub-header"><a href="/Java/JavaNIO/NIO vs IO.html#数据处理" class="sidebar-link">数据处理</a></li></ul></li></ul></li><li><a href="/Java/JavaNIO/IOTheory.html" class="sidebar-link">IO概念-同步、异步、阻塞、非阻塞</a></li><li><a href="/Java/JavaNIO/IOModelAndThreadModel.html" class="sidebar-link">高性能网络编程中的IO模型与线程模型</a></li><li><a href="/Java/JavaNIO/JavaAIO.html" class="sidebar-link">JavaAIO</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Java 并发</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Spring</span> <span class="arrow right"></span></p> <!----></section></li><li><a href="/index/" class="sidebar-link">&lt; 首页</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="nio-vs-io"><a href="#nio-vs-io" class="header-anchor">#</a> NIO vs IO</h1> <div class="custom-block tip"><p class="custom-block-title">此文为转载 （通常一篇文章会参考多处，也会添加自己的理解，引用地址如有遗漏，请指出）</p> <ul><li>https://www.iteye.com/magazines/132-Java-NIO</li></ul></div> <p>（本部分<a href="http://tutorials.jenkov.com/java-nio/nio-vs-io.html" target="_self" rel="noopener noreferrer">原文地址</a>，作者：Jakob Jenkov)</p> <br> <p>当学习了Java NIO和IO的API后，一个问题马上涌入脑海：</p> <blockquote><p>我应该何时使用IO，何时使用NIO呢？在本文中，我会尽量清晰地解析Java NIO和IO的差异、它们的使用场景，以及它们如何影响您的代码设计。</p></blockquote> <h2 id="java-nio和io的主要区别"><a href="#java-nio和io的主要区别" class="header-anchor">#</a> <strong>Java NIO和IO的主要区别</strong></h2> <p>下表总结了Java NIO和IO之间的主要差别，我会更详细地描述表中每部分的差异。</p> <table><thead><tr><th>IO</th> <th>NIO</th></tr></thead> <tbody><tr><td>Stream oriented</td> <td>Buffer oriented</td></tr> <tr><td>Blocking IO</td> <td>Non blocking IO</td></tr> <tr><td></td> <td>Selectors</td></tr></tbody></table> <h2 id="面向流与面向缓冲"><a href="#面向流与面向缓冲" class="header-anchor">#</a> <strong>面向流与面向缓冲</strong></h2> <p>Java NIO和IO之间第一个最大的区别是，IO是面向流的，NIO是面向缓冲区的。 Java IO面向流意味着每次从流中读一个或多个字节，直至读取所有字节，它们没有被缓存在任何地方。此外，它不能前后移动流中的数据。如果需要前后移动从流中读取的数据，需要先将它缓存到一个缓冲区。 Java NIO的缓冲导向方法略有不同。数据读取到一个它稍后处理的缓冲区，需要时可在缓冲区中前后移动。这就增加了处理过程中的灵活性。但是，还需要检查是否该缓冲区中包含所有您需要处理的数据。而且，需确保当更多的数据读入缓冲区时，不要覆盖缓冲区里尚未处理的数据。</p> <h2 id="阻塞与非阻塞io"><a href="#阻塞与非阻塞io" class="header-anchor">#</a> <strong>阻塞与非阻塞IO</strong></h2> <p>Java IO的各种流是阻塞的。这意味着，当一个线程调用read() 或 write()时，该线程被阻塞，直到有一些数据被读取，或数据完全写入。该线程在此期间不能再干任何事情了。 Java NIO的非阻塞模式，使一个线程从某通道发送请求读取数据，但是它仅能得到目前可用的数据，如果目前没有数据可用时，就什么都不会获取。而不是保持线程阻塞，所以直至数据变的可以读取之前，该线程可以继续做其他的事情。 非阻塞写也是如此。一个线程请求写入一些数据到某通道，但不需要等待它完全写入，这个线程同时可以去做别的事情。 线程通常将非阻塞IO的空闲时间用于在其它通道上执行IO操作，所以一个单独的线程现在可以管理多个输入和输出通道（channel）。</p> <h2 id="选择器（selectors）"><a href="#选择器（selectors）" class="header-anchor">#</a> <strong>选择器（Selectors）</strong></h2> <p>Java NIO的选择器允许一个单独的线程来监视多个输入通道，你可以注册多个通道使用一个选择器，然后使用一个单独的线程来“选择”通道：这些通道里已经有可以处理的输入，或者选择已准备写入的通道。这种选择机制，使得一个单独的线程很容易来管理多个通道。</p> <h2 id="nio和io如何影响应用程序的设计"><a href="#nio和io如何影响应用程序的设计" class="header-anchor">#</a> <strong>NIO和IO如何影响应用程序的设计</strong></h2> <p>无论您选择IO或NIO工具箱，可能会影响您应用程序设计的以下几个方面：</p> <ul><li>对NIO或IO类的API调用。</li> <li>数据处理。</li> <li>用来处理数据的线程数。</li></ul> <h3 id="api调用"><a href="#api调用" class="header-anchor">#</a> <strong>API调用</strong></h3> <p>当然，使用NIO的API调用时看起来与使用IO时有所不同，但这并不意外，因为并不是仅从一个InputStream逐字节读取，而是数据必须先读入缓冲区再处理。</p> <h3 id="数据处理"><a href="#数据处理" class="header-anchor">#</a> <strong>数据处理</strong></h3> <p>使用纯粹的NIO设计相较IO设计，数据处理也受到影响。 <br>在IO设计中，我们从InputStream或 Reader逐字节读取数据。假设你正在处理一基于行的文本数据流，例如：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">Name</span><span class="token operator">:</span> <span class="token class-name">Anna</span>  
<span class="token class-name">Age</span><span class="token operator">:</span> <span class="token number">25</span>  
<span class="token class-name">Email</span><span class="token operator">:</span> anna<span class="token annotation punctuation">@mailserver</span><span class="token punctuation">.</span>com  
<span class="token class-name">Phone</span><span class="token operator">:</span> <span class="token number">1234567890</span> 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>该文本行的流可以这样处理：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">InputStream</span> input <span class="token operator">=</span> … <span class="token punctuation">;</span> <span class="token comment">// get the InputStream from the client socket  </span>
<span class="token class-name">BufferedReader</span> reader <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BufferedReader</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">InputStreamReader</span><span class="token punctuation">(</span>input<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
  
<span class="token class-name">String</span> nameLine   <span class="token operator">=</span> reader<span class="token punctuation">.</span><span class="token function">readLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
<span class="token class-name">String</span> ageLine    <span class="token operator">=</span> reader<span class="token punctuation">.</span><span class="token function">readLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
<span class="token class-name">String</span> emailLine  <span class="token operator">=</span> reader<span class="token punctuation">.</span><span class="token function">readLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
<span class="token class-name">String</span> phoneLine  <span class="token operator">=</span> reader<span class="token punctuation">.</span><span class="token function">readLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>请注意处理状态由程序执行多久决定。换句话说，一旦reader.readLine()方法返回，你就知道肯定文本行就已读完， readline()阻塞直到整行读完，这就是原因。你也知道此行包含名称；同样，第二个readline()调用返回的时候，你知道这行包含年龄等。 正如你可以看到，该处理程序仅在有新数据读入时运行，并知道每步的数据是什么。一旦正在运行的线程已处理过读入的某些数据，该线程不会再回退数据（大多如此）。下图也说明了这条原则：</p> <div style="display:flex;"><img src="/assets/img/niovsio-1.200ef83a.jpg" alt="从一个阻塞的流中读数据" align="left" style="zoom:80%;display:block;"></div>
而一个NIO的实现会有所不同，下面是一个简单的例子： 
<div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">ByteBuffer</span> buffer <span class="token operator">=</span> <span class="token class-name">ByteBuffer</span><span class="token punctuation">.</span><span class="token function">allocate</span><span class="token punctuation">(</span><span class="token number">48</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
  
<span class="token keyword">int</span> bytesRead <span class="token operator">=</span> inChannel<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>buffer<span class="token punctuation">)</span><span class="token punctuation">;</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>注意第二行，从通道读取字节到ByteBuffer。当这个方法调用返回时，你不知道你所需的所有数据是否在缓冲区内。你所知道的是，该缓冲区包含一些字节，这使得处理有点困难。
假设第一次 read(buffer)调用后，读入缓冲区的数据只有半行，例如，“Name:An”，你能处理数据吗？显然不能，需要等待，直到整行数据读入缓存，在此之前，对数据的任何处理毫无意义。</p> <p>所以，你怎么知道是否该缓冲区包含足够的数据可以处理呢？好了，你不知道。发现的方法只能查看缓冲区中的数据。其结果是，在你知道所有数据都在缓冲区里之前，你必须检查几次缓冲区的数据。这不仅效率低下，而且可以使程序设计方案杂乱不堪。例如：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">ByteBuffer</span> buffer <span class="token operator">=</span> <span class="token class-name">ByteBuffer</span><span class="token punctuation">.</span><span class="token function">allocate</span><span class="token punctuation">(</span><span class="token number">48</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
<span class="token keyword">int</span> bytesRead <span class="token operator">=</span> inChannel<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>buffer<span class="token punctuation">)</span><span class="token punctuation">;</span>  
<span class="token keyword">while</span><span class="token punctuation">(</span><span class="token operator">!</span> <span class="token function">bufferFull</span><span class="token punctuation">(</span>bytesRead<span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>  
	bytesRead <span class="token operator">=</span> inChannel<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>buffer<span class="token punctuation">)</span><span class="token punctuation">;</span>  
<span class="token punctuation">}</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>bufferFull()方法必须跟踪有多少数据读入缓冲区，并返回真或假，这取决于缓冲区是否已满。换句话说，如果缓冲区准备好被处理，那么表示缓冲区满了。</p> <p>bufferFull()方法扫描缓冲区，但必须保持在bufferFull（）方法被调用之前状态相同。如果没有，下一个读入缓冲区的数据可能无法读到正确的位置。这是不可能的，但却是需要注意的又一问题。</p> <p>如果缓冲区已满，它可以被处理。如果它不满，并且在你的实际案例中有意义，你或许能处理其中的部分数据。但是许多情况下并非如此。下图展示了“缓冲区数据循环就绪”：</p> <div style="display:flex;"><img src="/assets/img/niovsio-2.55f5cb23.jpg" alt="" align="left" style="zoom:80%;display:block;"></div>
## **总结** 
<p>NIO可让您只使用一个（或几个）单线程管理多个通道（网络连接或文件），但付出的代价是解析数据可能会比从一个阻塞流中读取数据更复杂。</p> <p>如果需要管理同时打开的成千上万个连接，这些连接每次只是发送少量的数据，例如聊天服务器，实现NIO的服务器可能是一个优势。同样，如果你需要维持许多打开的连接到其他计算机上，如P2P网络中，使用一个单独的线程来管理你所有出站连接，可能是一个优势。一个线程多个连接的设计方案如下图所示：</p> <div style="display:flex;"><img src="data:image/jpeg;base64,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" alt="" align="left" style="zoom:80%;display:block;"></div>
如果你有少量的连接使用非常高的带宽，一次发送大量的数据，也许典型的IO服务器实现可能非常契合。下图说明了一个典型的IO服务器设计：
<div style="display:flex;"><img src="/assets/img/niovsio-4.44a3a030.jpg" alt="" align="left" style="zoom:80%;display:block;"></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/Java/JavaNIO/JavaNIO-Samples.html" class="prev">JavaNIO - Samples</a></span> <span class="next"><a href="/Java/JavaNIO/IOTheory.html">IO概念-同步、异步、阻塞、非阻塞</a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.6e34a036.js" defer></script><script src="/assets/js/2.d8c7de32.js" defer></script><script src="/assets/js/28.c6510a4b.js" defer></script>
  </body>
</html>
