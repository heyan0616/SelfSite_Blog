(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{435:function(t,s,a){t.exports=a.p+"assets/img/vwgc-1.91c0a359.jpg"},436:function(t,s,a){t.exports=a.p+"assets/img/vwgc-2.8e4f8917.jpg"},437:function(t,s,a){t.exports=a.p+"assets/img/vwgc-3.7de8515a.jpg"},438:function(t,s,a){t.exports=a.p+"assets/img/vwgc-4-1.636055d5.jpg"},439:function(t,s,a){t.exports=a.p+"assets/img/vwgc-4-2.eeaa25a1.jpg"},440:function(t,s,a){t.exports=a.p+"assets/img/vwgc-5.48b97fa6.jpg"},441:function(t,s,a){t.exports=a.p+"assets/img/vwgc-6.c702a32d.jpg"},442:function(t,s,a){t.exports=a.p+"assets/img/vwgc-7.36143e62.jpg"},443:function(t,s,a){t.exports=a.p+"assets/img/vwgc-8.5b25dd36.jpg"},444:function(t,s,a){t.exports=a.p+"assets/img/vwgc-9.9ba55a1f.jpg"},445:function(t,s,a){t.exports=a.p+"assets/img/vwgc-10.e7582349.jpg"},446:function(t,s,a){t.exports=a.p+"assets/img/vwgc-11.d1a31f97.jpg"},447:function(t,s,a){t.exports=a.p+"assets/img/vwgc-12.4dc2c078.jpg"},448:function(t,s,a){t.exports=a.p+"assets/img/vwgc-13.54567cd1.jpg"},449:function(t,s,a){t.exports=a.p+"assets/img/vwgc-14.6a10d930.jpg"},559:function(t,s,a){"use strict";a.r(s);var e=a(0),i=Object(e.a)({},(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"基于google-cloud搭建v2ray服务器"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#基于google-cloud搭建v2ray服务器"}},[t._v("#")]),t._v(" 基于Google Cloud搭建V2Ray服务器")]),t._v(" "),e("p",[t._v("薅google云的一年试用期的羊毛，顺便搭建V2Ray服务器，解决上网问题")]),t._v(" "),e("h2",{attrs:{id:"申请google-cloud的vps"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#申请google-cloud的vps"}},[t._v("#")]),t._v(" 申请Google Cloud的VPS")]),t._v(" "),e("h3",{attrs:{id:"前提条件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#前提条件"}},[t._v("#")]),t._v(" 前提条件")]),t._v(" "),e("ul",[e("li",[t._v("你先能上google云，请自行解决... 不在本文讨论范围")]),t._v(" "),e("li",[t._v("拥有或创建google账号")]),t._v(" "),e("li",[t._v("有一张VISA信用卡（4开头的，开通google cloud需要用到）")])]),t._v(" "),e("h3",{attrs:{id:"注册-google-cloud"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#注册-google-cloud"}},[t._v("#")]),t._v(" 注册 Google Cloud")]),t._v(" "),e("p",[t._v("登录https://cloud.google.com/，点击“"),e("strong",[t._v("免费开始使用")]),t._v("”，使用自己的google账号登录，地区选择“"),e("strong",[t._v("香港")]),t._v("”，详细地址随便写个就行，输入你的信用卡，google会先扣除一定额度的money（很快就会退回来）。")]),t._v(" "),e("p",[t._v("当前google提供为期一年的试用期，并提供300$的使用资金（但当我查看账号时显示如下金额，没搞懂~ 不过一年试用期是固定的。估计我也用不完。。）")]),t._v(" "),e("div",{staticStyle:{display:"flex"}},[e("img",{staticStyle:{zoom:"40%",display:"block"},attrs:{src:a(435),alt:"Home.vue",align:"left"}})]),t._v(" "),e("br"),t._v(" "),e("h3",{attrs:{id:"创建vps-instance"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#创建vps-instance"}},[t._v("#")]),t._v(" 创建VPS instance")]),t._v(" "),e("h4",{attrs:{id:"compute-engine-vm-instance"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#compute-engine-vm-instance"}},[t._v("#")]),t._v(' "Compute Engine"->"VM instance"')]),t._v(" "),e("br"),t._v(" "),e("div",{staticStyle:{display:"flex"}},[e("img",{staticStyle:{zoom:"40%",display:"block"},attrs:{src:a(436),alt:"Home.vue",align:"left"}})]),t._v(" "),e("br"),t._v(" "),e("h4",{attrs:{id:"然后在instance界面“create-instance”"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#然后在instance界面“create-instance”"}},[t._v("#")]),t._v(" 然后在instance界面“CREATE INSTANCE”")]),t._v(" "),e("br"),t._v(" "),e("div",{staticStyle:{display:"flex"}},[e("img",{staticStyle:{zoom:"40%",display:"block"},attrs:{src:a(437),alt:"Home.vue",align:"left"}})]),t._v(" "),e("br"),t._v(" "),e("h4",{attrs:{id:"创建instance"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#创建instance"}},[t._v("#")]),t._v(" 创建instance")]),t._v(" "),e("ol",[e("li",[t._v("显示你所选择的instance的价格")]),t._v(" "),e("li",[t._v("instance的名字")]),t._v(" "),e("li",[t._v("instance的地区（这里选香港，后面Zone可以切换，有时候你所选的zone没有资源了，google会提示你无法创建实例，此时可切换zone再尝试）")]),t._v(" "),e("li",[t._v("instance的规格")]),t._v(" "),e("li",[t._v("instance的系统选择，这里最好点击“Change”，选择"),e("strong",[t._v("CentOS")]),t._v("或者RedHat之类我们熟悉的。")]),t._v(" "),e("li",[t._v("“Firewall”这里需要都选上")])]),t._v(" "),e("p",[t._v('选择完毕后，点击"'),e("strong",[t._v("Create")]),t._v('"')]),t._v(" "),e("div",{staticStyle:{display:"flex"}},[e("img",{staticStyle:{zoom:"40%",display:"block"},attrs:{src:a(438),alt:"Home.vue",align:"left"}})]),t._v(" "),e("div",{staticStyle:{display:"flex"}},[e("img",{staticStyle:{zoom:"40%",display:"block"},attrs:{src:a(439),alt:"Home.vue",align:"left"}})]),t._v(" "),e("br"),t._v(" "),e("h4",{attrs:{id:"配置防火墙规则-“setup-firewall-rules”"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#配置防火墙规则-“setup-firewall-rules”"}},[t._v("#")]),t._v(" 配置防火墙规则 - “Setup Firewall Rules”")]),t._v(" "),e("br"),t._v(" "),e("div",{staticStyle:{display:"flex"}},[e("img",{staticStyle:{zoom:"40%",display:"block"},attrs:{src:a(440),alt:"Home.vue",align:"left"}})]),t._v("\n点击“**CREATE FIREWALL RULE**” (rule名字自定义，主要关注以下三点)\n"),e("ul",[e("li",[t._v("选择应用到所有instances")]),t._v(" "),e("li",[t._v("source ip设置成所有（也就是0.0.0.0）")]),t._v(" "),e("li",[t._v("协议和端口设置为允许所有")])]),t._v(" "),e("div",{staticStyle:{display:"flex"}},[e("img",{staticStyle:{zoom:"40%",display:"block"},attrs:{src:a(441),alt:"Home.vue",align:"left"}})]),t._v(" "),e("br"),t._v(" "),e("h4",{attrs:{id:"设置静态ip"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#设置静态ip"}},[t._v("#")]),t._v(" 设置静态IP")]),t._v(" "),e("p",[t._v("切换到“"),e("strong",[t._v("External IP addresses")]),t._v('"，点击“'),e("strong",[t._v("Type")]),t._v("”选择“"),e("strong",[t._v("Static")]),t._v("”，这样我们就可以有静态的ip地址了")]),t._v(" "),e("div",{staticStyle:{display:"flex"}},[e("img",{staticStyle:{zoom:"40%",display:"block"},attrs:{src:a(442),alt:"Home.vue",align:"left"}})]),t._v(" "),e("br"),t._v(" "),e("h3",{attrs:{id:"ssh登录设置"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ssh登录设置"}},[t._v("#")]),t._v(" SSH登录设置")]),t._v(" "),e("p",[t._v("至此，我们的instance就申请成功了。下面我们配置V2Ray服务。")]),t._v(" "),e("p",[t._v("在这之前，我们发现登录google的instance需要点击控制台上的"),e("strong",[t._v("SSH")]),t._v("打开页面版consol来进行命令操作，非常低效。。")]),t._v(" "),e("div",{staticStyle:{display:"flex"}},[e("img",{staticStyle:{zoom:"40%",display:"block"},attrs:{src:a(443),alt:"Home.vue",align:"left"}})]),t._v("\n我们还是希望类似之前的阿里云，能通过自己的客户端直接ssh上去，所以需要以下设置。\n"),e("ul",[e("li",[e("p",[t._v("点击"),e("em",[t._v("ssh")]),t._v("登录到instance，切换到root用户")]),t._v(" "),e("div",{staticClass:"language-sh line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[t._v("//切换到root角色\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" -i\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br")])])]),t._v(" "),e("li",[e("p",[t._v("修改instance的配置文件")]),t._v(" "),e("div",{staticClass:"language-sh line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[t._v("//修改配置文件\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("vi")]),t._v(" /etc/ssh/sshd_config\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#LoginGraceTime 2m")]),t._v("\nPermitRootLogin "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("yes")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# To disable tunneled clear text passwords, change to no here!")]),t._v("\nPasswordAuthentication "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("yes")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br")])])]),t._v(" "),e("li",[e("p",[t._v("修改实例的root密码")]),t._v(" "),e("div",{staticClass:"language-sh line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@xxx ~"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("$ "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("passwd")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br")])])]),t._v(" "),e("li",[e("p",[e("em",[t._v("重启实例")])])]),t._v(" "),e("li",[e("p",[t._v("从本地登录我们的instance")]),t._v(" "),e("div",{staticClass:"language-sh line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[t._v("hy_mac:bin heyan$ "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("ssh")]),t._v(" root@34.96.208.160\nroot@34.96.208.160's password:\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br")])])])]),t._v(" "),e("h2",{attrs:{id:"v2ray安装配置"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#v2ray安装配置"}},[t._v("#")]),t._v(" V2Ray安装配置")]),t._v(" "),e("p",[t._v("参考 "),e("a",{attrs:{href:"%22https://www.hijk.pw/centos-one-click-install-v2ray/%22"}},[t._v("V2Ray一键脚本")]),t._v("一文安装配置（V2Ray具体细节可直接登录查看）。大概流程记录")]),t._v(" "),e("ul",[e("li",[e("p",[t._v("登录instance执行")]),t._v(" "),e("div",{staticClass:"language-sh line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("bash")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" -sL https://raw.githubusercontent.com/hijkpw/scripts/master/centos_install_v2ray.sh"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br")])]),e("p",[t._v("运行成功后会直接显示 V2Ray登录的相关信息")]),t._v(" "),e("div",{staticStyle:{display:"flex"}},[e("img",{staticStyle:{zoom:"40%",display:"block"},attrs:{src:a(444),alt:"Home.vue",align:"left"}})])])]),t._v(" "),e("br"),t._v(" "),e("blockquote",[e("h4",{attrs:{id:"v2ray-相关操作"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#v2ray-相关操作"}},[t._v("#")]),t._v(" V2Ray 相关操作")]),t._v(" "),e("p",[t._v("脚本安装完成无误后，可以进行如下操作：")]),t._v(" "),e("ol",[e("li",[t._v("编辑 vim /etc/v2ray/config.json 文件来配置你需要的代理方式；")]),t._v(" "),e("li",[t._v("运行 "),e("strong",[t._v("service")]),t._v(" v2ray start 来启动 V2Ray 进程；")]),t._v(" "),e("li",[t._v("之后可以使用 service v2ray start|stop|status|reload|restart|force-reload 控制 V2Ray 的运行。")])])]),t._v(" "),e("br"),t._v(" "),e("h2",{attrs:{id:"客户端配置连接"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#客户端配置连接"}},[t._v("#")]),t._v(" 客户端配置连接")]),t._v(" "),e("p",[t._v("具体使用什么客户端，可自行网上搜索，这里我是mac系统，选用的是"),e("strong",[t._v("V2RayX")]),t._v("客户端。把刚刚生成的信息填入到客户端，如下")]),t._v(" "),e("div",{staticStyle:{display:"flex"}},[e("img",{staticStyle:{zoom:"40%",display:"block"},attrs:{src:a(445),alt:"Home.vue",align:"left"}})]),t._v(" "),e("br"),t._v(" "),e("p",[t._v("尝试连接youtube试试")]),t._v(" "),e("div",{staticStyle:{display:"flex"}},[e("img",{staticStyle:{zoom:"20%",display:"block"},attrs:{src:a(446),alt:"Home.vue",align:"left"}})]),t._v(" "),e("br"),t._v(" "),e("p",[t._v("好了，You Did it!")]),t._v(" "),e("br"),t._v(" "),e("br"),t._v(" "),e("br"),t._v(" "),e("br"),t._v(" "),e("br"),t._v(" "),e("br"),t._v(" "),e("hr"),t._v(" "),e("br"),t._v(" "),e("h2",{attrs:{id:"谷歌云中如何更换ip"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#谷歌云中如何更换ip"}},[t._v("#")]),t._v(" 谷歌云中如何更换IP")]),t._v(" "),e("p",[t._v("某种原因，可能需要更换IP~")]),t._v(" "),e("p",[t._v("具体操作：如之前设置静态ip的时候一样，切换到“"),e("strong",[t._v("External IP addresses")]),t._v('"，往后拉一点，点击“'),e("strong",[t._v("CHANGE")]),t._v("”")]),t._v(" "),e("div",{staticStyle:{display:"flex"}},[e("img",{staticStyle:{zoom:"20%",display:"block"},attrs:{src:a(447),alt:"Home.vue",align:"left"}})]),t._v(" "),e("p",[t._v('选择"None"')]),t._v(" "),e("div",{staticStyle:{display:"flex"}},[e("img",{staticStyle:{zoom:"120%",display:"block"},attrs:{src:a(448),alt:"",align:"left"}})]),t._v(" "),e("p",[t._v("此时选择这个server，title上的“"),e("strong",[t._v("RELEASE STATIC ADDRESS")]),t._v("”就会亮起来，点击它")]),t._v(" "),e("div",{staticStyle:{display:"flex"}},[e("img",{staticStyle:{zoom:"30%",display:"block"},attrs:{src:a(449),alt:"Home.vue",align:"left"}})]),t._v(" "),e("br"),t._v(" "),e("p",[t._v("最后重复之前的操作对新分配的IP，设置为静态IP")]),t._v(" "),e("br"),t._v(" "),e("p",[e("strong",[t._v("好消息是，重新设置了IP之后。并不需要其他的操作（如重启服务之类...），之前的相关功能，像SSH登录，已经安装好并正在运行的V2Ray等都能直接使用，当然要改成新IP")])])])}),[],!1,null,null,null);s.default=i.exports}}]);