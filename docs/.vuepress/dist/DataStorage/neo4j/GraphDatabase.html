<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>图数据库 | Yan&#39;s Blog Home</title>
    <meta name="description" content="Personal blog site">
    
    
    <link rel="preload" href="/assets/css/0.styles.cd4a49f4.css" as="style"><link rel="preload" href="/assets/js/app.6e34a036.js" as="script"><link rel="preload" href="/assets/js/2.d8c7de32.js" as="script"><link rel="preload" href="/assets/js/10.009807ae.js" as="script"><link rel="prefetch" href="/assets/js/100.322d115a.js"><link rel="prefetch" href="/assets/js/101.9f2f0e73.js"><link rel="prefetch" href="/assets/js/102.54e1df53.js"><link rel="prefetch" href="/assets/js/103.1c52acb0.js"><link rel="prefetch" href="/assets/js/104.1d283eaf.js"><link rel="prefetch" href="/assets/js/105.050f821a.js"><link rel="prefetch" href="/assets/js/106.3a3acecf.js"><link rel="prefetch" href="/assets/js/107.b3eefe03.js"><link rel="prefetch" href="/assets/js/108.5086d5a7.js"><link rel="prefetch" href="/assets/js/109.41e38f6d.js"><link rel="prefetch" href="/assets/js/11.5b7299cb.js"><link rel="prefetch" href="/assets/js/110.6544d695.js"><link rel="prefetch" href="/assets/js/111.ea7e0244.js"><link rel="prefetch" href="/assets/js/12.904d3ee7.js"><link rel="prefetch" href="/assets/js/13.fb23e2be.js"><link rel="prefetch" href="/assets/js/14.6644a39f.js"><link rel="prefetch" href="/assets/js/15.f46fbd16.js"><link rel="prefetch" href="/assets/js/16.791e85b6.js"><link rel="prefetch" href="/assets/js/17.eff56491.js"><link rel="prefetch" href="/assets/js/18.15b7f5aa.js"><link rel="prefetch" href="/assets/js/19.4fa520ef.js"><link rel="prefetch" href="/assets/js/20.9bf7f090.js"><link rel="prefetch" href="/assets/js/21.90620d20.js"><link rel="prefetch" href="/assets/js/22.f50f693f.js"><link rel="prefetch" href="/assets/js/23.dbeb9e5d.js"><link rel="prefetch" href="/assets/js/24.280efe40.js"><link rel="prefetch" href="/assets/js/25.9651137e.js"><link rel="prefetch" href="/assets/js/26.843c176e.js"><link rel="prefetch" href="/assets/js/27.973221fc.js"><link rel="prefetch" href="/assets/js/28.c6510a4b.js"><link rel="prefetch" href="/assets/js/29.cef09ac2.js"><link rel="prefetch" href="/assets/js/3.d9095a9d.js"><link rel="prefetch" href="/assets/js/30.ec917e14.js"><link rel="prefetch" href="/assets/js/31.98843d33.js"><link rel="prefetch" href="/assets/js/32.58c78a58.js"><link rel="prefetch" href="/assets/js/33.9c1edee7.js"><link rel="prefetch" href="/assets/js/34.c8c147a2.js"><link rel="prefetch" href="/assets/js/35.2c1b8faf.js"><link rel="prefetch" href="/assets/js/36.9584f9f5.js"><link rel="prefetch" href="/assets/js/37.8c14f491.js"><link rel="prefetch" href="/assets/js/38.d4afe74f.js"><link rel="prefetch" href="/assets/js/39.1a5f5307.js"><link rel="prefetch" href="/assets/js/4.a4f1b3c2.js"><link rel="prefetch" href="/assets/js/40.044881e7.js"><link rel="prefetch" href="/assets/js/41.23c8beeb.js"><link rel="prefetch" href="/assets/js/42.55b3c0a5.js"><link rel="prefetch" href="/assets/js/43.5f9799b9.js"><link rel="prefetch" href="/assets/js/44.7a61142c.js"><link rel="prefetch" href="/assets/js/45.90860cc2.js"><link rel="prefetch" href="/assets/js/46.0ead2ce1.js"><link rel="prefetch" href="/assets/js/47.dd878062.js"><link rel="prefetch" href="/assets/js/48.efd39c05.js"><link rel="prefetch" href="/assets/js/49.c902eae4.js"><link rel="prefetch" href="/assets/js/5.ccd2bff3.js"><link rel="prefetch" href="/assets/js/50.d776a771.js"><link rel="prefetch" href="/assets/js/51.dee8204a.js"><link rel="prefetch" href="/assets/js/52.fb47faf7.js"><link rel="prefetch" href="/assets/js/53.73cd8ad4.js"><link rel="prefetch" href="/assets/js/54.e3734239.js"><link rel="prefetch" href="/assets/js/55.a9493804.js"><link rel="prefetch" href="/assets/js/56.5e42a719.js"><link rel="prefetch" href="/assets/js/57.dd3fcd75.js"><link rel="prefetch" href="/assets/js/58.87e3e66f.js"><link rel="prefetch" href="/assets/js/59.3c3de5c2.js"><link rel="prefetch" href="/assets/js/6.d9065cf3.js"><link rel="prefetch" href="/assets/js/60.e20944ec.js"><link rel="prefetch" href="/assets/js/61.93fbd1b4.js"><link rel="prefetch" href="/assets/js/62.b9635c03.js"><link rel="prefetch" href="/assets/js/63.26ce6c7c.js"><link rel="prefetch" href="/assets/js/64.2be399f4.js"><link rel="prefetch" href="/assets/js/65.3b048b7b.js"><link rel="prefetch" href="/assets/js/66.9bfc1632.js"><link rel="prefetch" href="/assets/js/67.0ed98bac.js"><link rel="prefetch" href="/assets/js/68.9e3c72be.js"><link rel="prefetch" href="/assets/js/69.194dd735.js"><link rel="prefetch" href="/assets/js/7.60d32557.js"><link rel="prefetch" href="/assets/js/70.65f12cfb.js"><link rel="prefetch" href="/assets/js/71.10a397ab.js"><link rel="prefetch" href="/assets/js/72.e2eb5440.js"><link rel="prefetch" href="/assets/js/73.af20da01.js"><link rel="prefetch" href="/assets/js/74.f76d6661.js"><link rel="prefetch" href="/assets/js/75.a5904fe0.js"><link rel="prefetch" href="/assets/js/76.8cbcdc02.js"><link rel="prefetch" href="/assets/js/77.09c3fecb.js"><link rel="prefetch" href="/assets/js/78.b1d5d157.js"><link rel="prefetch" href="/assets/js/79.57cd57e8.js"><link rel="prefetch" href="/assets/js/8.ad03828c.js"><link rel="prefetch" href="/assets/js/80.3859000c.js"><link rel="prefetch" href="/assets/js/81.eec48d7d.js"><link rel="prefetch" href="/assets/js/82.4b0c0163.js"><link rel="prefetch" href="/assets/js/83.3c858fd3.js"><link rel="prefetch" href="/assets/js/84.214eca48.js"><link rel="prefetch" href="/assets/js/85.f1e91461.js"><link rel="prefetch" href="/assets/js/86.48249b6f.js"><link rel="prefetch" href="/assets/js/87.697df349.js"><link rel="prefetch" href="/assets/js/88.05d2b171.js"><link rel="prefetch" href="/assets/js/89.a8145c11.js"><link rel="prefetch" href="/assets/js/9.3e502c99.js"><link rel="prefetch" href="/assets/js/90.7a84bf59.js"><link rel="prefetch" href="/assets/js/91.40b63db1.js"><link rel="prefetch" href="/assets/js/92.762ac0c7.js"><link rel="prefetch" href="/assets/js/93.8269a815.js"><link rel="prefetch" href="/assets/js/94.56ecb66b.js"><link rel="prefetch" href="/assets/js/95.46ad459f.js"><link rel="prefetch" href="/assets/js/96.d1c32042.js"><link rel="prefetch" href="/assets/js/97.4aaebd54.js"><link rel="prefetch" href="/assets/js/98.bd30c714.js"><link rel="prefetch" href="/assets/js/99.81ddeb80.js">
    <link rel="stylesheet" href="/assets/css/0.styles.cd4a49f4.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Yan's Blog Home</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="技术主题" class="dropdown-title"><span class="title">技术主题</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Java相关</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/Java/" class="nav-link">index</a></li></ul></li><li class="dropdown-item"><h4>Architect相关</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/Architect/" class="nav-link">index</a></li></ul></li><li class="dropdown-item"><h4>数据存储</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/DataStorage/" class="nav-link router-link-active">index</a></li></ul></li><li class="dropdown-item"><h4>DevOps</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/DevOps/" class="nav-link">index</a></li></ul></li><li class="dropdown-item"><h4>分布式</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/DistributedSystem/" class="nav-link">index</a></li></ul></li><li class="dropdown-item"><h4>前端</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/Frontend/" class="nav-link">index</a></li></ul></li><li class="dropdown-item"><h4>微服务相关</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/Microservice/" class="nav-link">index</a></li></ul></li><li class="dropdown-item"><h4>Monitor</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/Monitor/" class="nav-link">index</a></li></ul></li><li class="dropdown-item"><h4>Python</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/Python/" class="nav-link">index</a></li></ul></li><li class="dropdown-item"><h4>一些知识</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/SomeKnowledges/" class="nav-link">index</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/index/" class="nav-link">Develop Home</a></div><div class="nav-item"><a href="/comments.html" class="nav-link">留言</a></div><div class="nav-item"><a href="https://heyan.site/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Site Home
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="技术主题" class="dropdown-title"><span class="title">技术主题</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Java相关</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/Java/" class="nav-link">index</a></li></ul></li><li class="dropdown-item"><h4>Architect相关</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/Architect/" class="nav-link">index</a></li></ul></li><li class="dropdown-item"><h4>数据存储</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/DataStorage/" class="nav-link router-link-active">index</a></li></ul></li><li class="dropdown-item"><h4>DevOps</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/DevOps/" class="nav-link">index</a></li></ul></li><li class="dropdown-item"><h4>分布式</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/DistributedSystem/" class="nav-link">index</a></li></ul></li><li class="dropdown-item"><h4>前端</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/Frontend/" class="nav-link">index</a></li></ul></li><li class="dropdown-item"><h4>微服务相关</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/Microservice/" class="nav-link">index</a></li></ul></li><li class="dropdown-item"><h4>Monitor</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/Monitor/" class="nav-link">index</a></li></ul></li><li class="dropdown-item"><h4>Python</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/Python/" class="nav-link">index</a></li></ul></li><li class="dropdown-item"><h4>一些知识</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/SomeKnowledges/" class="nav-link">index</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/index/" class="nav-link">Develop Home</a></div><div class="nav-item"><a href="/comments.html" class="nav-link">留言</a></div><div class="nav-item"><a href="https://heyan.site/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Site Home
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>数据存储</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Neo4j</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/DataStorage/neo4j/" class="sidebar-link">Neo4j</a></li><li><a href="/DataStorage/neo4j/GraphDatabase.html" class="active sidebar-link">图数据库</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/DataStorage/neo4j/GraphDatabase.html#什么是图" class="sidebar-link">什么是图</a></li><li class="sidebar-sub-header"><a href="/DataStorage/neo4j/GraphDatabase.html#图论：（对实际问题建模求解）" class="sidebar-link">图论：（对实际问题建模求解）</a></li><li class="sidebar-sub-header"><a href="/DataStorage/neo4j/GraphDatabase.html#图领域概览" class="sidebar-link">图领域概览</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/DataStorage/neo4j/GraphDatabase.html#图数据库-2" class="sidebar-link">图数据库</a></li><li class="sidebar-sub-header"><a href="/DataStorage/neo4j/GraphDatabase.html#图计算引擎" class="sidebar-link">图计算引擎</a></li></ul></li><li class="sidebar-sub-header"><a href="/DataStorage/neo4j/GraphDatabase.html#图数据库分类-to-confirm" class="sidebar-link">图数据库分类(to confirm.)</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/DataStorage/neo4j/GraphDatabase.html#原生处理（native-processing）" class="sidebar-link">原生处理（native processing）</a></li><li class="sidebar-sub-header"><a href="/DataStorage/neo4j/GraphDatabase.html#原生图存储（native-graph-storage）" class="sidebar-link">原生图存储（native graph storage）</a></li></ul></li><li class="sidebar-sub-header"><a href="/DataStorage/neo4j/GraphDatabase.html#应用场景" class="sidebar-link">应用场景</a></li></ul></li><li><a href="/DataStorage/neo4j/Neo4jStart.html" class="sidebar-link">Neo4j 基础入门</a></li><li><a href="/DataStorage/neo4j/Cypher.html" class="sidebar-link">Cypher</a></li><li><a href="/DataStorage/neo4j/NorthwindGraph.html" class="sidebar-link">How to migrate from a relational database to Neo4j</a></li></ul></section></li><li><a href="/index/" class="sidebar-link">&lt; 首页</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="图数据库"><a href="#图数据库" class="header-anchor">#</a> 图数据库</h1> <div class="custom-block tip"><p class="custom-block-title">此文为转载 （通常一篇文章会参考多处，也会添加自己的理解，引用地址如有遗漏，请指出）</p> <ul><li>https://www.jianshu.com/p/a825e4fcd9a9</li> <li>https://www.cnblogs.com/mantoudev/p/10414495.html</li> <li>https://blog.csdn.net/sinat_35045195/article/details/91387632</li> <li>https://blog.csdn.net/u010945683/article/details/79790142</li> <li>https://blog.csdn.net/HHTNAN/article/details/82786536</li> <li>https://help.aliyun.com/document_detail/102808.html?spm=a2c4g.11186623.4.3.52604a9f5fVC1y</li> <li>https://yq.aliyun.com/articles/96637?spm=5176.10695662.1996646101.searchclickresult.2ea45338dqL0w9</li> <li>... ...</li></ul></div> <br> <h2 id="什么是图"><a href="#什么是图" class="header-anchor">#</a> 什么是图</h2> <p>数据结构中，图是一种对问题的抽象。由下面两方面组成</p> <ul><li>节点（nodes）、顶点（vertices）：对象或实体</li> <li>节点之间的联系：边（edges）、关系（relationships）</li></ul> <p>节点和关系相互连接构成了一个图</p> <h2 id="图论：（对实际问题建模求解）"><a href="#图论：（对实际问题建模求解）" class="header-anchor">#</a> 图论：（对实际问题建模求解）</h2> <ul><li>用图来表征化对象及其间的关系</li> <li>在图上运用数学算法求解</li> <li>相关领域：</li></ul> <table><thead><tr><th>研究领域</th> <th>简述</th></tr></thead> <tbody><tr><td>社会学 SocialNetwork</td> <td>人与人间的相互作用，相互影响 可以用于更好地了解人口结构、特定群体对产品的商业价值...</td></tr> <tr><td>生物学</td> <td>帮助更精确地建模和分析</td></tr> <tr><td>计算机科学</td> <td>芯片设计、网络管理、推荐系统、UML建模、依赖分析... 案例：采用路径算法，可以分析系统设计中的变化对系统其他部分带来的影响</td></tr> <tr><td>流量问题</td> <td>电信网络、天然气网络、包裹递送网络...</td></tr> <tr><td>路径问题</td> <td>路径规划：可以用于物流领域等，最优化可用路线 Dijkstra算法、A*算法</td></tr> <tr><td>网页搜索</td> <td>PageRank 原有的搜索工具是在网页上进行关键词匹配，而google不仅关注关键词，而更是对不同网页间的超链接分析。他们假定网页比搜索结果更重要，因为他们更加丰富，有大量来自其他网页的输入连接，从而可以分析网页间的连接图。</td></tr></tbody></table> <h2 id="图领域概览"><a href="#图领域概览" class="header-anchor">#</a> 图领域概览</h2> <p>近年来，无数用于管理、处理和分析图的项目和产品纷纷涌入市场。技术选择的陡增使我们难以跟进这些工具并摸清它们之间的区别，即便对我们这些一直活跃在这个领域的人来说也是如此。本节的内容对理解新兴的图领域提供了一个“高空俯览”。从高空俯看，我们可以将图领域划分成以下两部分。</p> <p>主要用于联机事务图的持久化技术，通常直接实时地被应用程序访问
这类技术被称为<code>图数据库</code>正是本书主要讨论的内容。它们和“常见的”关系型数据库世界中的联机事务处理（online transactional processing，OLTP）数据库是一样的。</p> <p>主要用于离线图分析的技术，通常按一系列步骤执行
这类技术被称为<code>图计算引擎</code>。它们可以和其他大数据分析技术看做一类，如数据挖掘和联机分析处理（online analytical processing，OLAP）。</p> <p>我们可以从另一个视角去划分图领域，去观察各种技术使用的图模型。主流的图模型有3种，分别是属性图、资源描述框架（Resource Description Framework，RDF）三元组和超图。我们将会在附录A中对它们进行详细的说明。市场上常见的大多数图数据库使用的都是属性图模型的变体，因此，在本书接下来的部分我们也将使用这一模型。（参考书籍：<em>《图数据库（第2版）》</em>）</p> <h3 id="图数据库-2"><a href="#图数据库-2" class="header-anchor">#</a> 图数据库</h3> <p><code>图数据库(Graph database)</code>并非指存储图片的数据库，而是以<code>图</code>这种数据结构存储和查询数据。<strong><code>图形数据库</code>是一种在线数据库管理系统，具有处理图形数据模型的创建，读取，更新和删除（CRUD）操作</strong>。与其他数据库不同，<code>关系</code>在图数据库中占首要地位。这意味着应用程序不必使用外键或额外处理（如MapReduce）来推断数据连接。与关系数据库或其他NoSQL数据库相比，图数据库的数据模型也更加简单，更具表现力。图形数据库是为与事务（OLTP）系统一起使用而构建的，并且在设计时考虑了事务完整性和操作可用性。</p> <p>在研究图数据库技术时，有两个特性需要多加考虑。</p> <ul><li><strong>底层存储</strong></li></ul> <p>一些图数据库使用原生图存储，这类存储是优化过的，并且是专门为了存储和管理图而设计的。然而并不是所有的图数据库使用的都是原生图存储，也有一些图数据库将图数据序列化，保存到关系型数据库或面向对象数据库，或是其他通用数据存储中。</p> <ul><li><strong>处理引擎</strong></li></ul> <p>一些定义要求图数据库使用<code>免索引邻接</code>，这意味着，关联节点在数据库里是物理意义上的“指向”彼此[2]。这里如果我们看的更宽泛些：站在用户的角度，任何看起来像是图数据库的都可以称为图数据库（比如说，提供了对图数据模型的CRUD操作的数据库）。然而，我们得承认这个事实，免索引邻接带来巨大的性能优势是其他数据库无法比拟的，因此我们使用<code>原生图处理</code>来代表利用了免索引邻接的图数据库。</p> <p>需要注意的是，原生图存储和原生图处理并不一定比其他方式更好或更差——这不过是典型的工程取舍而已。原生图存储的好处是，它的栈是专门为性能和扩展性设计建造的。但相对的，非原生图存储通常建立在非常成熟的非图后端（如MySQL）之上，运维团队对它们的特性烂熟于心。原生图处理（免索引邻接）虽然在遍历查询时性能优势很大，但代价是一些未使用遍历的查询会比较困难，并且需要占用巨大的内存。</p> <p>与那些需要额外增加像外键这样的属性或者使用map-reduce这样的额外处理来推测实体间关联的数据库管理系统不同，联系在图数据模型中是“一等公民”。图数据库通过将节点和联系的简单抽象组装为相互关联的结构，使我们能够建造任意复杂的模型，形象地映射我们的问题域。比起那些传统的关系型数据库和其他NoSQL（Not Only SQL）存储，我们所得到的模型更简单，也更具表现力。</p> <h3 id="图计算引擎"><a href="#图计算引擎" class="header-anchor">#</a> 图计算引擎</h3> <p><strong><code>图计算引擎</code></strong> 技术使我们可以在大数据集上使用全局图算法。图计算引擎旨在识别数据中的集群，或是回答类似于“在一个社交网络中，平均每个人有多少联系？”这样的问题。</p> <p>因为偏重于全局查询，图计算引擎通常为扫描和批处理大规模信息做过优化，在这个方面，它们和其他批分析技术（如在关系型数据库世界中大家都很熟悉的数据挖掘和OLAP）类似。只有一部分图计算引擎有自己的图存储层，其他的（几乎可以说大部分）则只完全关注于如何处理外部传入的数据，然后返回结果到其他地方存储。</p> <p>下图展示的是一个通用的图计算引擎部署架构。该架构包括一个带有OLTP属性的记录系统（SOR）数据库（如MySQL、Oracle或Neo4j），它给应用程序提供服务，请求并响应应用程序在运行中发送过来的查询。每隔一段时间，一个抽取、转换和加载（ETL）作业就会将记录系统数据库的数据转入图计算引擎，供离线查询和分析。</p> <div style="display:flex;"><img src="/assets/img/GraphDatabase-8.20d069bf.jpg" alt="" align="left" style="zoom:80%;display:block;"></div> <br> <p>图计算引擎多种多样。最出名的有<code>内存的</code>、<code>单机的</code>图计算引擎Cassovary，以及<code>分布式</code>的图计算引擎Pegasus和Giraph。大多数分布式图计算引擎都是基于Google发布的Pregel白皮书，它主要讲述了Google如何使用图计算引擎来计算网页排名。</p> <h2 id="图数据库分类-to-confirm"><a href="#图数据库分类-to-confirm" class="header-anchor">#</a> <strong>图数据库分类(to confirm.)</strong></h2> <ul><li>第一是原生数据库，代表数据库为neo4j、orientdb，其原生体现在查点到边或者边到点的时候，不需要走原来关系型数据库的B+索引，节点本身就有指向索引，类似于链表的指针概念。</li> <li>第二是直接在关系型数据库之上构建的图数据库，代表为agens graph，以及微软的GraphView。SparkGraphX也可以基于关系型存储结构进行转化成图结构，然后完成图运算。</li> <li>第三是以Titan/JanusGraph为代表的使用外置nosql存储如hbase，以及使用外置的索引生成工具如elasticsearch，olap支持外接spark等工具。</li> <li>第四是在图计算上基于batch进行优化的新一代图数据库，如dgraph。dgraph的存储结构与cayley同样借鉴了google的论文，将每个节点的属性也作为一个节点与主节点产生联系，这样更有益与基于batch来设计运算方法。</li></ul> <div style="display:flex;"><img src="/assets/img/GraphDatabase-1.af067571.jpg" alt="" align="left" style="zoom:50%;display:block;"></div> <br> <h3 id="原生处理（native-processing）"><a href="#原生处理（native-processing）" class="header-anchor">#</a> 原生处理（native processing）</h3> <p>关于原生处理能力的定义，《图数据库》里面提到，假如图数据库可存在免索引邻接（Index Free Adjacency）属性，那么就是具有原生处理能力. 这里的免索引邻接主要是对用非原生图数据库里使用的全局索引而言的，也就是每个节点都会维护其相邻节点的引用，这样可以提供快速高效的图遍历性能，拥有免索引邻接的图数据库引擎遍历整个图的复杂度为O(n)O(n)，而使用索引的复杂度则是O(nlogn)O(nlog⁡n)，但是在实际中，如果遇到要删除一个有大量连接的节点，这时的操作代价就会非常高昂. 在 [1] 中提出ArangoDB提出了一种混合索引的方式，能够避免这类缺点.</p> <h3 id="原生图存储（native-graph-storage）"><a href="#原生图存储（native-graph-storage）" class="header-anchor">#</a> 原生图存储（native graph storage）</h3> <p>关于Neo4j的存储结构，Neo4j将图结构和属性数据等进行了分离，以此提供高性能的图遍历.</p> <div style="display:flex;"><img src="/assets/img/GraphDatabase-2.6fa5bba9.jpg" alt="" align="left" style="zoom:40%;display:block;"></div> <br> <p>图中的节点和联系的存储文件都是固定大小的，每个记录长度为9字节，因此可以可以在O(1)O(1)的时间复杂度下计算位置.</p> <ul><li><strong>节点（指向联系和属性的单向链表，neostore.nodestore.db）</strong>：第一个字节，表示是否被使用的标志位，后面4个字节，代表关联到这个节点的第一个关系的ID，再接着的4个字符，代表第一个属性ID，后面紧接着的5个字符是代表当前节点的标签，指向该节点的标签存储，最后一个字符作为保留位.</li> <li><strong>联系（双向链表，neostore.relationshipstore.db）</strong>：第一个字节，表示是否被使用的标志位，后面4个字节，代表起始节点的ID，再接着的4个字符，代表结束个节点的ID，然后是关系类型占用5个字节，然后依次接着是起始节点的上下联系和结束节点的上下节点，以及一个指示当前记录是否位于联系链的最前面.</li></ul> <p>同时还有属性存储（neostore.propertystore.db）也是固定大小，每个属性记录包括4个属性块（一个属性记录最多容纳4个属性）和指向属性链中下一个属性的ID. 属性记录包括属性类型和指向属性索引文件的指针（neostore.propertysotre.db.index）. 同时属性记录中可以内联和动态存储，在属性值存储占用小时，会直接存储在属性记录中，对于大属性值，可以分别存储在动态字符存储（neostore.propertysotre.db.strings）和动态数组存储（neostore.propertysotre.db.arrays）中，由于动态记录同样由记录大小固定的记录链表组成，因此大字符串和大数组会占据多个动态记录.</p> <h2 id="应用场景"><a href="#应用场景" class="header-anchor">#</a> 应用场景</h2> <p>（<em><strong>来自阿里云</strong></em>）图数据库GDB针对高度互联数据的存储和查询场景进行设计，并在内核层面进行了大量优化，非常适合社交网络、欺诈检测、推荐引擎、知识图谱、网络/IT运营等高密互连数据集的场景。</p> <ul><li><strong>社交网络</strong></li></ul> <p>图数据库可以轻松应对海量高度互连社交数据的实时存储和高效查询，帮助您快速构建复杂的社交网络系统。例如，在一个典型的社交网络中，常常会存在“谁认识谁，谁上过什么学校，谁常住什么地方，谁喜欢什么餐馆”等查询，传统关系型数据库对于超过3度的查询往往会很低效甚至无法支持，但图数据库从基因层面提供了解决方案，轻松应对社交网络的各种复杂存储和查询。</p> <div style="display:flex;"><img src="/assets/img/GraphDatabase-3.844de1a9.jpg" alt="" align="left" style="zoom:30%;display:block;"></div> <br> <ul><li><strong>金融欺诈检测</strong></li></ul> <p>在金融领域，图数据库经常用于欺诈检测。例如，通过贷款、分期消费者的联系人（或者联系人的联系人）信用信息，对用户进行信用评分，如果评分较低，则拒绝贷款或者提升利率；通过申请人的个人信息（包括电话号码、家庭住址），判断申请人信息是否属实。通常，欺诈者是通过“黑市”购买的用户信息然后拼凑出“个人信息”，并且这些信息会被反复使用，使用图数据库，可以快速发现申请人提供的个人信息与现有用户信息的关系。</p> <div style="display:flex;"><img src="/assets/img/GraphDatabase-4.71dca4d4.jpg" alt="" align="left" style="zoom:30%;display:block;"></div> <br> <ul><li><strong>实时推荐引擎</strong></li></ul> <p>图数据库非常适合实时推荐场景。您可以将用户的购买行为、位置、好友关系、收藏等数据实时存储在图数据库中，然后利用图数据库能对高度互连数据提供高效查询的特点，通过各种维度的快速查询实时进行多维度个性化推荐。例如，在某APP中，通过用户位置及以前的购买行为信息，当某用户A到达某商场B，APP可以向用户实时推荐附近的门店及商品等信息。</p> <div style="display:flex;"><img src="/assets/img/GraphDatabase-5.4c194e27.jpg" alt="" align="left" style="zoom:30%;display:block;"></div> <br> <ul><li><strong>知识图谱</strong></li></ul> <p>图数据库可以帮助您快速构建知识图谱。您可以将图谱数据存储在图数据库中，既可以通过外部输入实时更新，也可以对图数据库内部图谱信息进行分析，不断发现并完善图谱数据。例如，基于图数据库，您可以快速实现针对足球明星的知识图谱应用，帮助用户发现感兴趣的信息。</p> <div style="display:flex;"><img src="/assets/img/GraphDatabase-6.93c04566.jpg" alt="" align="left" style="zoom:30%;display:block;"></div> <br> <ul><li><strong>网络/IT运营</strong></li></ul> <p>图数据库非常适合网络/IT运营相关场景。例如，您可以将路由器、交换机、防火墙、服务器等各种网络设备、终端及其拓扑信息存储在图数据库中，当某服务器或终端遭受恶意攻击或者受到感染时，您可以通过图数据库快速分析并找到传播路径，然后进行相关追踪及处理。</p> <div style="display:flex;"><img src="/assets/img/GraphDatabase-7.98ae358f.jpg" alt="" align="left" style="zoom:30%;display:block;"></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/DataStorage/neo4j/" class="prev router-link-active">Neo4j</a></span> <span class="next"><a href="/DataStorage/neo4j/Neo4jStart.html">Neo4j 基础入门</a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.6e34a036.js" defer></script><script src="/assets/js/2.d8c7de32.js" defer></script><script src="/assets/js/10.009807ae.js" defer></script>
  </body>
</html>
